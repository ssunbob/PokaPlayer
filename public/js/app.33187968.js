(function(t){function e(e){for(var s,n,o=e[0],l=e[1],c=e[2],p=0,u=[];p<o.length;p++)n=o[p],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&u.push(i[n][0]),i[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(u.length)u.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(s=!1)}s&&(r.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},i={app:0},r=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0625":function(t,e,a){"use strict";var s=a("6088"),i=a.n(s);i.a},"0a8b":function(t,e,a){},"0e06":function(t,e,a){},"0eb9":function(t,e,a){"use strict";var s=a("25f6"),i=a.n(s);i.a},"103b":function(t,e,a){},"1a0e":function(t,e,a){"use strict";var s=a("4760"),i=a.n(s);i.a},2012:function(t,e,a){"use strict";var s=a("a254"),i=a.n(s);i.a},"25a2":function(t,e,a){"use strict";var s=a("0a8b"),i=a.n(s);i.a},"25f6":function(t,e,a){},2853:function(t,e,a){"use strict";var s=a("fd83"),i=a.n(s);i.a},3500:function(t,e,a){},"350e":function(t,e,a){},"3ed7":function(t,e,a){"use strict";var s=a("f098"),i=a.n(s);i.a},4760:function(t,e,a){},5211:function(t,e,a){"use strict";var s=a("5ae6"),i=a.n(s);i.a},"56cc":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var s={};a.r(s),a.d(s,"about",(function(){return Os})),a.d(s,"headerWrapper",(function(){return Hs})),a.d(s,"pokaCard",(function(){return ai})),a.d(s,"pokaCards",(function(){return li})),a.d(s,"pokaLoader",(function(){return _i})),a.d(s,"pinButton",(function(){return ki})),a.d(s,"playRandomButton",(function(){return Pi})),a.d(s,"pokaUpdate",(function(){return Ii})),a.d(s,"infoHeader",(function(){return Ws})),a.d(s,"parsePlaylists",(function(){return Mi})),a.d(s,"parseSongs",(function(){return qi})),a.d(s,"parseArtists",(function(){return Xi})),a.d(s,"parseAlbums",(function(){return ir})),a.d(s,"parseComposers",(function(){return dr})),a.d(s,"parseFolders",(function(){return vr})),a.d(s,"parseHome",(function(){return br})),a.d(s,"parseHomeDialog",(function(){return Dr}));var i=a("9f61"),r=a.n(i),n=a("bc3a"),o=a.n(n);window._randomPlay=function(){let t=Math.random().toString(36).substring(7);o()("/pokaapi/randomSongs?"+t).then(t=>t.data.songs).then(t=>{_addSongs({songs:t})}).catch(t=>alert("PokaPlayer Error\n"+t))},window._addSongs=function({songs:t,index:e,clear:a=!0}){const s=window._setting("server"),i=window._setting("headerBgSource");let r=[];for(let n of t){let t=_setting("audioQuality").toLowerCase(),e=/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent);"DSM"==n.source&&"high"==t&&("mp3"==n.codec||"aac"==n.codec||"flac"==n.codec&&n.bitrate<=16e5&&!e)&&(t="original"),r.push({url:s+n.url+"&songRes="+t,originalURL:n.url,cover:n.cover&&n.cover.startsWith("http")?n.cover:n.cover?s+n.cover:i,originalCover:n.cover,name:n.name,artist:n.artist,artistId:n.artistId,album:n.album,albumId:n.albumId,id:n.id,source:n.source,uuid:_uuid()})}a&&_player.list.clear(),_player.list.add(r),e&&"random"===_player.options.order?(_player.options.order="list",_player.list.switch(e),_player.options.order="random"):e&&_player.list.switch(e),_player.play()},window._player=new r.a({container:document.getElementById("player")}),window._uuid=()=>{var t=Date.now();return"undefined"!==typeof performance&&"function"===typeof performance.now&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var a=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?a:3&a|8).toString(16)}))},window._lyricReader=a("ef87"),window._lrc=new(a("ef87"))("[00:00.000]"),window._CSSsetting=(t,e)=>{let a=_setting("cssVariable");a[t]=e,_setting("cssVariable",a),document.documentElement.style.setProperty(t,e)},window._setting=(t,e)=>{let a=JSON.parse(localStorage.pokaSetting||"{}"),s={nickname:"Poka-"+Math.random().toString(36).substring(8).toUpperCase(),theme:"#5c95c4",lyricTheme:"default",artistView:"card",composerView:"card",audioQuality:"High",headerBgSource:"https://ftp.bmp.ovh/imgs/2020/08/1a7c9a5935c00b06.jpg",darkMode:!1,server:location.origin,password:"",cssVariable:{"--pokabgheight":"calc( 100vh - 69px - 64px )"}},i=navigator.language||navigator.userLanguage;switch(i){case"zh-TW":s.lang="zh_TW";break;case"zh-CN":s.lang="zh_CN";break;default:s.lang="en_US";break}return e?(a[t]=e,localStorage.pokaSetting=JSON.stringify(a),a[t]):a[t]?a[t]:s[t]?(a[t]=s[t]||"",localStorage.pokaSetting=JSON.stringify(a),a[t]):""},window._socket=io(window._setting("server"),{transports:["websocket"]});let l=document.documentElement;for(let[Rr,Er]of Object.entries(_setting("cssVariable")))l.style.setProperty(Rr,Er);a("6176");var c=a("2b0e"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"page-container"},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1),a("v-snackbar",{class:{withBottomPlayer:t.snackbar.withBottomPlayer},model:{value:t.snackbar.show,callback:function(e){t.$set(t.snackbar,"show",e)},expression:"snackbar.show"}},[t._v(t._s(t.snackbar.message))])],1)},p=[],u={created(){c["a"].prototype.$goBack=()=>{window.history.length>1?this.$router.go(-1):this.$router.push("/")},c["a"].prototype.$deepCopy=t=>JSON.parse(JSON.stringify(t)),c["a"].prototype.$randomPlay=window._randomPlay,c["a"].prototype.$addSongs=window._addSongs,c["a"].prototype.$snackbar=(t="",e=1500)=>{this.snackbar.message=t,this.snackbar.withBottomPlayer=document.querySelectorAll(".bottom-player").length,this.snackbar.show=!0,clearTimeout(this.snackbar.timeout),this.snackbar.timeout=setTimeout(()=>this.snackbar.show=!1,e)},this.$vuetify.theme.themes.dark.primary=window._setting("theme"),this.$vuetify.theme.themes.light.primary=window._setting("theme")},data:()=>({snackbar:{show:!1,message:"",timeout:null,withBottomPlayer:!0}})},m=u,g=(a("cf25"),a("5c64"),a("d4db"),a("2877")),_=a("6544"),v=a.n(_),h=a("7496"),y=a("2db4"),f=Object(g["a"])(m,d,p,!1,null,null,null),w=f.exports;v()(f,{VApp:h["a"],VSnackbar:y["a"]});var k=a("8c4f"),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.$vuetify.breakpoint.mdAndUp?t._e():a("v-app-bar",{attrs:{app:""}},[a("v-app-bar-nav-icon",{on:{click:function(e){return e.stopPropagation(),t.toggleMenu()}}}),a("v-toolbar-title",{staticStyle:{width:"300px"}},[a("span",[t._v("PokaPlayer")])]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:t.switch_audio_order}},["list"===t.audio_order?a("v-icon",{staticClass:"material-icons-outlined"},[t._v("repeat")]):a("v-icon",{staticClass:"material-icons-outlined"},[t._v("shuffle")])],1)],1),a("v-navigation-drawer",{attrs:{clipped:t.$vuetify.breakpoint.mdAndUp,"mini-variant":t.$vuetify.breakpoint.mdOnly,"mobile-breakpoint":960,app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.$vuetify.breakpoint.lgAndUp,expression:"$vuetify.breakpoint.lgAndUp"}],staticClass:"poka-drawer-logo"},[a("h1",[t._v("PokaPlayer")]),a("p",[t._v(t._s(t.poka_version))])]),a("v-divider",{directives:[{name:"show",rawName:"v-show",value:t.$vuetify.breakpoint.lgAndUp,expression:"$vuetify.breakpoint.lgAndUp"}],staticStyle:{margin:"0px 0"}}),a("v-list",{attrs:{shaped:""}},[a("v-list-item-group",{attrs:{color:"primary"}},[t._l(t.items,(function(e){return[e.divider?a("v-divider",{key:e.text,staticStyle:{margin:"4px 0"}}):a("v-list-item",{key:e.text,attrs:{to:e.to,link:""}},[a("v-list-item-action",[a("v-icon",{staticClass:"material-icons-outlined",domProps:{textContent:t._s(e.icon)}}),a("v-icon",{staticClass:"material-icons",domProps:{textContent:t._s(e.icon)}})],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.text))])],1)],1)]}))],2)],1)],1),a("transition",{attrs:{name:t.transitionName,mode:"out-in"},on:{enter:t.pageEnter}},[a("v-main",{key:t.$route.path},[a("div",{staticClass:"router-view"},[a("router-view")],1),a("div",{staticStyle:{height:"69px"}})])],1),a("div",{staticClass:"bottom-player"},[a("div",{staticClass:"app-progress-bar"},[a("v-progress-linear",{attrs:{"buffer-value":t.audio_bufferPercent,color:"primary"},model:{value:t.audio_currentTimePercent,callback:function(e){t.audio_currentTimePercent=e},expression:"audio_currentTimePercent"}}),a("label",{staticClass:"pure-material-slider"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.audio_currentTimePercent,expression:"audio_currentTimePercent"}],attrs:{type:"range",min:"0",max:"100",step:"0.000001"},domProps:{value:t.audio_currentTimePercent},on:{input:t.audio_seek,__r:function(e){t.audio_currentTimePercent=e.target.value}}})])],1),a("div",{staticClass:"song-info"},[a("div",{staticClass:"left"},[a("div",{staticClass:"cover"},[a("img",{attrs:{src:t.audio_cover}})]),a("div",{staticClass:"song-title",on:{click:function(e){return t.$router.push("/now"!=t.$route.path?"/now":"/lyric")}}},[a("div",{staticClass:"song-name"},[t._v(t._s(t.audio_title))]),a("div",{staticClass:"song-artist"},[t._v(t._s(t.audio_artist||t.$t("app_waitForPlay")))])])]),a("div",{staticClass:"center"},[a("span",{staticClass:"time"},[t._v(t._s(t.audio_currentTime))]),a("v-btn",{attrs:{icon:""},on:{click:t.audio_previous}},[a("v-icon",{staticClass:"material-icons-outlined"},[t._v("skip_previous")])],1),a("v-btn",{attrs:{small:"",fab:"",depressed:"",color:"primary"},on:{click:t.audio_toggle}},[t.audio_paused?a("v-icon",{key:"play",staticClass:"material-icons-outlined"},[t._v("play_arrow")]):a("v-icon",{key:"pause",staticClass:"material-icons-outlined"},[t._v("pause")])],1),a("v-btn",{attrs:{icon:""},on:{click:t.audio_next}},[a("v-icon",{staticClass:"material-icons-outlined"},[t._v("skip_next")])],1),a("span",{staticClass:"time"},[t._v(t._s(t.audio_totalTime))])],1),t.audio_artist?a("div",{staticClass:"right"},[a("v-btn",{attrs:{icon:""},on:{click:t.switch_audio_order}},["list"===t.audio_order?a("v-icon",{staticClass:"material-icons-outlined"},[t._v("repeat")]):a("v-icon",{staticClass:"material-icons-outlined"},[t._v("shuffle")])],1),"/now"!=t.$route.path?a("v-btn",{attrs:{icon:"",to:"/now"}},[a("v-icon",{staticClass:"material-icons-outlined"},[t._v("playlist_play")])],1):a("v-btn",{attrs:{icon:"",to:"/lyric"}},[a("v-icon",{staticClass:"material-icons-outlined"},[t._v("subtitles")])],1)],1):a("div",{staticClass:"right"},[a("play-random-button")],1),t.audio_artist?a("div",{staticClass:"right-s"},[a("v-btn",{attrs:{icon:""},on:{click:t.audio_previous}},[a("v-icon",{staticClass:"material-icons-outlined"},[t._v("skip_previous")])],1),a("v-btn",{attrs:{small:"",fab:"",depressed:"",color:"primary"},on:{click:t.audio_toggle}},[t.audio_paused?a("v-icon",{key:"play",staticClass:"material-icons-outlined"},[t._v("play_arrow")]):a("v-icon",{key:"pause",staticClass:"material-icons-outlined"},[t._v("pause")])],1),a("v-btn",{attrs:{icon:""},on:{click:t.audio_next}},[a("v-icon",{staticClass:"material-icons-outlined"},[t._v("skip_next")])],1)],1):a("div",{staticClass:"right-s"},[a("play-random-button")],1)])])],1)},x=[],C={name:"App",data:()=>({menuVisible:!1,drawer:null,audio_interval:null,audio_currentTimePercent:100,audio_bufferPercent:100,audio_currentTime:"0:00",audio_totalTime:"0:00",audio_paused:!0,audio_cover:_setting("headerBgSource"),audio_title:"PokaPlayer",audio_artist:null,audio_order:_player.options.order,transitionName:"fade",poka_version:"0.0.0",scrollPositions:{},settings:{darkMode:window._setting("darkMode")},items:[{icon:"home",text:i18n.t("home"),to:"/home"},{icon:"playlist_play",text:i18n.t("nowplaying"),to:"/now"},{icon:"subtitles",text:i18n.t("lrc"),to:"/lyric"},{divider:!0},{icon:"search",text:i18n.t("search"),to:"/search"},{icon:"album",text:i18n.t("album"),to:"/album"},{icon:"folder",text:i18n.t("folder"),to:"/folder"},{icon:"mic_none",text:i18n.t("artist"),to:"/artist"},{icon:"music_note",text:i18n.t("composer"),to:"/composer"},{icon:"queue_music",text:i18n.t("playlist"),to:"/playlist"},{divider:!0},{icon:"settings",text:i18n.t("settings"),to:"/setting"}]}),destroyed(){this.audio_interval&&clearInterval(this.audio_interval)},created(){function t(){let t=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",t+"px")}document.getElementsByTagName("meta")["theme-color"].content=this.$vuetify.theme.isDark?"rgb(47, 43, 62)":"rgb(245, 245, 245)",window.addEventListener("resize",t),t(),this.drawer=this.$vuetify.breakpoint.mdAndUp,this.$router.beforeEach((t,e,a)=>{let s=t.meta.transitionName||e.meta.transitionName||"fade";if("slide"===s){const a=t.path.split("/").length,i=e.path.split("/").length;s=a<i?"zoom-out":"zoom-in",s=a==i?"fade":s}this.transitionName=s,this.getStatus();let i=document.querySelector("main");i&&(this.scrollPositions[e.name]=i.scrollTop),a()}),this.axios.defaults.withCredentials=!0,this.axios.defaults.baseURL=_setting("server"),this.getStatus(),_socket.emit("login",{username:window._setting("username"),password:window._setting("password")}),_socket.emit("send-nickname",_setting("nickname")),"mediaSession"in navigator&&(navigator.mediaSession.setActionHandler("play",()=>_player.toggle()),navigator.mediaSession.setActionHandler("pause",()=>_player.pause()),navigator.mediaSession.setActionHandler("previoustrack",()=>_payer.skipBack()),navigator.mediaSession.setActionHandler("nexttrack",()=>_player.skipForward())),this.audio_interval=setInterval(()=>{if(this.audio_paused=_player.paused,this.audio_order=_player.options.order,_player.list.audios.length>0){let t=_player.list.audios[_player.list.index],e=_player.audio.buffered,a=_player.audio.currentTime>1?e.end(e.length-1)/_player.audio.duration*100:0,s=_player.audio.currentTime/_player.audio.duration*100;if(this.audio_currentTimePercent=s,this.audio_bufferPercent=a,this.audio_paused=_player.paused,this.audio_title=t.name,this.audio_artist=t.artist,this.audio_cover=t.cover,this.audio_currentTime=this.secondToTime(_player.audio.currentTime||0),this.audio_totalTime=this.secondToTime(_player.audio.duration||0),"mediaSession"in navigator){let e=document.querySelector(".cover img"),a=[{src:e.complete?t.cover:"/static/img/icons/512x512.png",sizes:e.complete?`${e.naturalWidth}x${e.naturalHeight}`:"512x512",type:"image/png"}];navigator.mediaSession.metadata=new MediaMetadata({title:t.name,artist:t.artist,artwork:a})}}else this.audio_currentTime="0:00",this.audio_totalTime="0:00",this.audio_currentTimePercent=100,this.audio_bufferPercent=100,this.audio_paused=_player.paused,this.audio_title="PokaPlayer",this.audio_artist=null,this.audio_cover=_setting("headerBgSource"),"mediaSession"in navigator&&(navigator.mediaSession.metadata=null)},400)},methods:{secondToTime(t){let e=Math.floor(t/60),a=Math.floor(t%60);return a=a<10?"0"+a:a,e+":"+a},audio_toggle(){_player.list.audios.length>0?(_player.toggle(),this.audio_paused=_player.paused):this.$randomPlay()},audio_next(){_player.skipForward(),_player.play()},audio_previous(){_player.skipBack(),_player.play()},audio_seek(){_player.seek(this.audio_currentTimePercent/100*_player.audio.duration)},closeMenu(){this.drawer=!1},toggleMenu(){this.drawer=!this.drawer},switch_audio_order(){_player.options.order="random"===_player.options.order?"list":"random",this.audio_order=_player.options.order},switchTheme(){this.settings.darkMode=!this.settings.darkMode,window._setting("darkMode",this.settings.darkMode),this.settings.darkMode?window._theme.switchToDark():window._theme.switchToLight()},getStatus(){this.axios.get(_setting("server")+"/status/").then(async t=>{if(!t.data.login)return this.$router.push("/login");this.poka_version=t.data.version;let e=await this.axios.get(_setting("server")+"/profile/");sessionStorage.setItem("login",JSON.stringify(e.data))})},pageEnter(){let t=this.$router.history.current.name,e=document.querySelector("main");if(e&&t in this.scrollPositions){let a=this.scrollPositions[t];setTimeout(()=>e.scrollTop=a,100)}}}},S=C,$=(a("0eb9"),a("40dc")),P=a("5bc1"),V=a("8336"),D=a("ce7e"),U=a("132d"),T=a("8860"),A=a("da13"),I=a("1800"),L=a("5d23"),N=a("1baa"),R=a("f6c4"),E=a("f774"),O=a("8e36"),M=a("2fa4"),B=a("2a7f"),z=Object(g["a"])(S,b,x,!1,null,"87bb659a",null),F=z.exports;v()(z,{VAppBar:$["a"],VAppBarNavIcon:P["a"],VBtn:V["a"],VDivider:D["a"],VIcon:U["a"],VList:T["a"],VListItem:A["a"],VListItemAction:I["a"],VListItemContent:L["a"],VListItemGroup:N["a"],VListItemTitle:L["c"],VMain:R["a"],VNavigationDrawer:E["a"],VProgressLinear:O["a"],VSpacer:M["a"],VToolbarTitle:B["a"]});var j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("router-view")],1)},H=[],Q={name:"App",created(){document.getElementsByTagName("meta")["theme-color"].content=this.$vuetify.theme.isDark?"rgb(47, 43, 62)":"rgb(245, 245, 245)"}},q=Q,G=Object(g["a"])(q,j,H,!1,null,null,null),Y=G.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-app-bar",{attrs:{"clipped-left":t.$vuetify.breakpoint.mdAndUp,app:"",dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",to:"/home"}},[a("v-icon",{staticClass:"material-icons-outlined"},[t._v("mdi-close")])],1),t.$vuetify.breakpoint.mdAndUp?t._e():a("v-app-bar-nav-icon",{on:{click:function(e){return e.stopPropagation(),t.toggleMenu()}}}),a("v-toolbar-title",{staticStyle:{width:"300px"}},[a("span",[t._v(t._s(t.$t("settings")))])]),a("v-spacer")],1),a("v-navigation-drawer",{attrs:{clipped:t.$vuetify.breakpoint.mdAndUp,"mini-variant":t.$vuetify.breakpoint.mdOnly,"mobile-breakpoint":960,app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{attrs:{shaped:""}},[a("v-list-item-group",{attrs:{color:"primary"}},[t._l(t.items,(function(e){return[e.divider?a("v-divider",{key:e.text,staticStyle:{margin:"4px 0"}}):a("v-list-item",{key:e.text,attrs:{to:e.to,link:""}},[a("v-list-item-action",[a("v-icon",{staticClass:"material-icons-outlined",domProps:{textContent:t._s(e.icon)}}),a("v-icon",{staticClass:"material-icons",domProps:{textContent:t._s(e.icon)}})],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.text))])],1)],1)]}))],2)],1)],1),a("transition",{attrs:{name:"fade",mode:"out-in"},on:{enter:t.pageEnter}},[a("v-main",{key:t.$route.path},[a("div",{staticClass:"router-view"},[a("router-view")],1)])],1)],1)},W=[],K={name:"App",data:()=>({menuVisible:!1,drawer:null,scrollPositions:{},settings:{darkMode:window._setting("darkMode")},items:[{text:i18n.t("settings"),icon:"settings",to:"/setting"},{divider:!0},{text:i18n.t("settings_network"),icon:"cloud",to:"/settings/network"},{text:i18n.t("settingInterface._"),icon:"layers",to:"/settings/interface"},{text:i18n.t("settingUser.title"),icon:"person",to:"/settings/user"},{text:i18n.t("settingPins.title"),icon:"push_pin",to:"/settings/pins"}]}),created(){document.getElementsByTagName("meta")["theme-color"].content=window._setting("theme"),this.drawer=this.$vuetify.breakpoint.mdAndUp,this.getStatus();let t="admin"==JSON.parse(sessionStorage.getItem("login")).role||!1;t&&this.items.push({divider:!0},{text:i18n.t("settings_systemAndUpdate"),icon:"system_update",to:"/settings/system"},{text:i18n.t("settingUserManagement.title"),icon:"person",to:"/settings/admin/users"})},methods:{closeMenu(){this.drawer=!1},toggleMenu(){this.drawer=!this.drawer},switch_audio_order(){_player.options.order="random"===_player.options.order?"list":"random",this.audio_order=_player.options.order},switchTheme(){this.settings.darkMode=!this.settings.darkMode,window._setting("darkMode",this.settings.darkMode),this.settings.darkMode?window._theme.switchToDark():window._theme.switchToLight()},getStatus(){this.axios.get(_setting("server")+"/status/").then(async t=>{if(!t.data.login)return this.$router.push("/login");let e=await this.axios.get(_setting("server")+"/profile/");sessionStorage.setItem("login",JSON.stringify(e.data))})},pageEnter(){let t=this.$router.history.current.name,e=document.querySelector("main");if(e&&t in this.scrollPositions){let a=this.scrollPositions[t];setTimeout(()=>e.scrollTop=a,100)}}}},X=K,Z=(a("25a2"),Object(g["a"])(X,J,W,!1,null,"9a92b31e",null)),tt=Z.exports;v()(Z,{VAppBar:$["a"],VAppBarNavIcon:P["a"],VBtn:V["a"],VDivider:D["a"],VIcon:U["a"],VList:T["a"],VListItem:A["a"],VListItemAction:I["a"],VListItemContent:L["a"],VListItemGroup:N["a"],VListItemTitle:L["c"],VMain:R["a"],VNavigationDrawer:E["a"],VSpacer:M["a"],VToolbarTitle:B["a"]});var et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("poka-header",{attrs:{title:t.$t("album")}}),a("v-slide-y-reverse-transition",[t.data?a("poka-parse-albums",{attrs:{data:t.data.albums}}):t._e()],1),t.data?t._e():a("poka-loader")],1)},at=[],st={name:"Album",created(){let t=_setting("server")+"/pokaapi/albums/";this.axios.get(t).then(t=>{this.data=t.data})},data:()=>({data:null,server:_setting("server")})},it=st,rt=a("0789"),nt=Object(g["a"])(it,et,at,!1,null,null,null),ot=nt.exports;v()(nt,{VSlideYReverseTransition:rt["g"]});var lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("poka-header",{attrs:{blurbg:!0,bg:t.cover||null}}),t.name?a("info-header",{attrs:{title:t.name,subtitle:t.artist,cover:t.cover,songs:t.songs.length}},[t.name?a("pin-button",{attrs:{source:t.$route.params.source,id:t.$route.params.id,type:"album",cover:t.cover,artist:t.artist,name:t.name,"btn-type":"icon-button"}}):t._e()],1):t._e(),t.songs?a("v-divider"):t._e(),t.songs?a("poka-parse-songs",{staticStyle:{margin:"16px 0"},attrs:{data:t.songs}}):t._e(),t.songs?t._e():a("poka-loader"),t.artistAlbums?a("v-divider"):t._e(),t.artistAlbums?a("h1",{staticClass:"title",staticStyle:{"padding-left":"0.5em","margin-top":"8px"}},[t._v(t._s(t.$t("albumsOfSameArtist")))]):t._e(),t.artistAlbums?a("poka-parse-albums",{attrs:{data:t.artistAlbums}}):t._e()],1)},ct=[],dt={name:"AlbumSongs",async created(){let t=this.$route.params.source,e=this.$route.params.id;await this.axios.get(`${this.server}/pokaapi/album?moduleName=${encodeURIComponent(t)}&id=${encodeURIComponent(e)}`).then(t=>{this.songs=t.data.songs,this.artist=t.data.artist,this.cover=this.server+t.data.cover.replace(/'/,"\\'"),this.name=t.data.name});let a=this.artist,s=t,i=`${this.server}/pokaapi/artistAlbums/?moduleName=${encodeURIComponent(s)}&id=${encodeURIComponent(a)}`;this.axios.get(i).then(t=>{this.artistAlbums=t.data.albums.filter(t=>t.id!=e),this.artistAlbums.length<1&&(this.artistAlbums=null)})},data:()=>({data:null,cover:null,name:null,artist:null,songs:null,artistAlbums:null,server:_setting("server")})},pt=dt,ut=Object(g["a"])(pt,lt,ct,!1,null,null,null),mt=ut.exports;v()(ut,{VDivider:D["a"]});var gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("poka-header",{attrs:{title:t.$t("artist")}}),a("v-slide-y-reverse-transition",[t.data?a("poka-parse-artists",{attrs:{data:t.data.artists}}):t._e()],1),t.data?t._e():a("poka-loader")],1)},_t=[],vt={name:"Artist",created(){this.axios.get(_setting("server")+"/pokaapi/artists/").then(t=>{this.data=t.data})},data:()=>({data:null,server:_setting("server")})},ht=vt,yt=Object(g["a"])(ht,gt,_t,!1,null,null,null),ft=yt.exports;v()(yt,{VSlideYReverseTransition:rt["g"]});var wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("poka-header",{attrs:{title:t.name,subtitle:t.$t("artist"),blurbg:!0,bg:t.server+t.cover||null}}),a("v-slide-y-reverse-transition",[t.data?a("poka-parse-albums",{attrs:{data:t.data.albums}}):t._e()],1),t.data?t._e():a("poka-loader"),t.name?a("pin-button",{attrs:{source:t.$route.params.source,id:t.$route.params.id,cover:t.cover,type:"artist",name:t.name}}):t._e()],1)},kt=[],bt={name:"ArtistAlbum",created(){let t="unknown"==this.$route.params.id?"":this.$route.params.id,e=this.$route.params.source,a=`${this.server}/pokaapi/artistAlbums/?moduleName=${encodeURIComponent(e)}&id=${encodeURIComponent(t)}`;this.axios.get(a).then(t=>{this.data=t.data}),this.axios.get(`/pokaapi/artist/?moduleName=${encodeURIComponent(e)}&id=${encodeURIComponent(t)}`).then(t=>{this.cover=t.data.cover,this.name=t.data.name})},data:()=>({data:null,cover:!1,name:"",server:_setting("server")})},xt=bt,Ct=Object(g["a"])(xt,wt,kt,!1,null,null,null),St=Ct.exports;v()(Ct,{VSlideYReverseTransition:rt["g"]});var $t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("poka-header",{attrs:{title:t.$t("composer")}}),a("v-slide-y-reverse-transition",[t.data?a("poka-parse-composers",{attrs:{data:t.data.composers}}):t._e()],1),t.data?t._e():a("poka-loader")],1)},Pt=[],Vt={name:"Composer",created(){this.axios.get(_setting("server")+"/pokaapi/composers/").then(t=>{this.data=t.data})},data:()=>({data:null,server:_setting("server")})},Dt=Vt,Ut=Object(g["a"])(Dt,$t,Pt,!1,null,null,null),Tt=Ut.exports;v()(Ut,{VSlideYReverseTransition:rt["g"]});var At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("poka-header",{attrs:{title:t.name,subtitle:t.$t("composer"),blurbg:!0,bg:t.server+t.cover||null}}),a("v-slide-y-reverse-transition",[t.data?a("poka-parse-albums",{attrs:{data:t.data.albums}}):t._e()],1),t.data?t._e():a("poka-loader"),t.name?a("pin-button",{attrs:{source:t.$route.params.source,id:t.$route.params.id,cover:t.cover,type:"composer",name:t.$route.params.id}}):t._e()],1)},It=[],Lt={name:"ComposerAlbum",created(){let t=this.$route.params.source,e="unknown"==this.$route.params.id?"":this.$route.params.id,a=`${this.server}/pokaapi/composerAlbums/?moduleName=${encodeURIComponent(t)}&id=${encodeURIComponent(e)}`;this.axios.get(a).then(t=>{this.data=t.data}),this.axios.get(`/pokaapi/composer/?moduleName=${encodeURIComponent(t)}&id=${encodeURIComponent(e)}`).then(t=>{this.cover=t.data.cover,this.name=t.data.name})},data:()=>({data:null,cover:!1,name:null,cover:null,server:_setting("server")})},Nt=Lt,Rt=Object(g["a"])(Nt,At,It,!1,null,null,null),Et=Rt.exports;v()(Rt,{VSlideYReverseTransition:rt["g"]});var Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("poka-header",{attrs:{title:"Debug"}}),a("div",{staticClass:"title"},[t._v("Snackbar")]),a("v-btn",{attrs:{text:""},on:{click:function(e){return t.$snackbar("test test 123")}}},[t._v("Open Snackbar")]),a("v-expansion-panels",[a("v-expansion-panel",[a("v-expansion-panel-header",[t._v("Audios")]),a("v-expansion-panel-content",[a("pre",[t._v(t._s(t.audios))])])],1),a("v-expansion-panel",[a("v-expansion-panel-header",[t._v("Config")]),a("v-expansion-panel-content",[a("pre",[t._v(t._s(t.pokaSetting))])])],1),a("v-expansion-panel",[a("v-expansion-panel-header",[t._v("Lyric")]),a("v-expansion-panel-content",[a("pre",[t._v(t._s(t.lyric))])])],1)],1)],1)},Mt=[],Bt={name:"Debug",created(){},data:()=>({pokaSetting:JSON.parse(localStorage.pokaSetting),audios:_player.list.audios,lyric:_lrc.lyrics_all})},zt=Bt,Ft=a("cd55"),jt=a("49e2"),Ht=a("c865"),Qt=a("0393"),qt=Object(g["a"])(zt,Ot,Mt,!1,null,null,null),Gt=qt.exports;v()(qt,{VBtn:V["a"],VExpansionPanel:Ft["a"],VExpansionPanelContent:jt["a"],VExpansionPanelHeader:Ht["a"],VExpansionPanels:Qt["a"]});var Yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("poka-header",{attrs:{title:t.$t("folder")}}),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:!t.$route.meta.root,expression:"!$route.meta.root"}],on:{click:t.goBack}},[a("v-icon",[t._v("arrow_back")]),t._v("\n\t\t"+t._s(t.$t("back"))+"\n\t")],1),a("v-slide-y-reverse-transition",[t.data?a("poka-parse-folders",{attrs:{data:t.data.folders}}):t._e()],1),a("v-slide-y-reverse-transition",[t.data?a("poka-parse-songs",{attrs:{data:t.data.songs}}):t._e()],1),t.data?t._e():a("poka-loader")],1)},Jt=[],Wt={name:"Folder",created(){let t=this.server+"/pokaapi/";if(this.$route.meta.root)t+="folders/";else{let e=encodeURIComponent(this.$route.params.source),a=encodeURIComponent(this.$route.params.id);t+=`folderFiles/?moduleName=${e}&id=${a}`}this.axios.get(t).then(t=>{this.data=t.data})},data:()=>({data:null,server:_setting("server")}),methods:{goBack(){window.history.length>1?this.$router.go(-1):this.$router.push("/folder")}}},Kt=Wt,Xt=Object(g["a"])(Kt,Yt,Jt,!1,null,null,null),Zt=Xt.exports;v()(Xt,{VBtn:V["a"],VIcon:U["a"],VSlideYReverseTransition:rt["g"]});var te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("poka-header",{attrs:{title:t.$t("header_welcome")}}),a("poka-update"),t.data?t._e():a("poka-loader"),a("v-slide-y-reverse-transition",[t.data?a("poka-parse-home",{attrs:{data:t.data}}):t._e()],1)],1)},ee=[],ae={name:"Home",created(){this.axios.get(_setting("server")+"/pokaapi/home/").then(t=>{this.data=t.data}),this.axios.get(_setting("server")+"/status/").then(t=>{this.poka_version=t.data.version})},data:()=>({data:null,poka_version:null})},se=ae,ie=Object(g["a"])(se,te,ee,!1,null,null,null),re=ie.exports;v()(ie,{VSlideYReverseTransition:rt["g"]});var ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-container"},[a("poka-header"),a("div",{staticClass:"login-row"},[a("div",{staticClass:"login-intro"},[a("div",{staticClass:"intro-container"},[a("h1",{staticClass:"welcome"},[t._v("PokaPlayer")]),a("div",{staticClass:"features"},[a("div",{staticClass:"feature"},[a("v-icon",{attrs:{large:"",color:"green darken-2"}},[t._v("mdi-code-braces")]),a("div",{staticClass:"title"},[t._v(t._s(t.$t("login_page.features.opensource.title")))]),a("div",{staticClass:"description"},[t._v(t._s(t.$t("login_page.features.opensource.description")))])],1),a("div",{staticClass:"feature"},[a("v-icon",{attrs:{large:"",color:"blue darken-2"}},[t._v("mdi-puzzle")]),a("div",{staticClass:"title"},[t._v(t._s(t.$t("login_page.features.module.title")))]),a("div",{staticClass:"description"},[t._v(t._s(t.$t("login_page.features.module.description")))])],1),a("div",{staticClass:"feature"},[a("v-icon",{attrs:{large:"",color:"purple darken-2"}},[t._v("mdi-music-note")]),a("div",{staticClass:"title"},[t._v(t._s(t.$t("login_page.features.streaming.title")))]),a("div",{staticClass:"description"},[t._v(t._s(t.$t("login_page.features.streaming.description")))])],1),a("div",{staticClass:"feature"},[a("v-icon",{attrs:{large:"",color:"teal darken-2"}},[t._v("mdi-clock-fast")]),a("div",{staticClass:"title"},[t._v(t._s(t.$t("login_page.features.fastinstall.title")))]),a("div",{staticClass:"description"},[t._v(t._s(t.$t("login_page.features.fastinstall.description")))])],1)]),a("br"),a("div",{staticClass:"title"},[t._v(t._s(t.$t("login_page.tips.firstLogin.title")))]),a("p",[t._v(t._s(t.$t("login_page.tips.firstLogin.description")))]),a("br"),a("p",[a("v-btn",{attrs:{icon:"",href:"https://github.com/gnehs/PokaPlayer",target:"_blank"}},[a("v-icon",[t._v("mdi-github")])],1),a("v-btn",{attrs:{icon:"",href:"https://github.com/gnehs/PokaPlayer/graphs/contributors",target:"_blank"}},[a("v-icon",[t._v("mdi-account-group")])],1),a("v-btn",{attrs:{icon:"",href:"https://github.com/gnehs/PokaPlayer/issues",target:"_blank"}},[a("v-icon",[t._v("mdi-alert-circle-outline")])],1)],1),a("div",{staticStyle:{"max-width":"200px",margin:"0 auto"}},[a("v-select",{attrs:{solo:"",items:t.langs},on:{change:t.setLang},model:{value:t.currentLang,callback:function(e){t.currentLang=e},expression:"currentLang"}})],1)])]),a("div",{staticClass:"login-form"},[a("div",{staticClass:"box"},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"400"}},[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[t._v(t._s(t.$t("login")))]),a("v-spacer"),a("v-menu",{attrs:{"offset-y":"","close-on-content-click":""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{icon:""}},s),[a("v-icon",[t._v("mdi-dots-vertical")])],1)]}}])},[a("v-list",[a("v-list-item",{on:{click:function(e){t.clearSessionDialog=!0}}},[a("v-list-item-title",[t._v(t._s(t.$t("login_page.session._")))])],1)],1)],1)],1),a("v-divider"),a("v-card-text",[a("v-overlay",{attrs:{absolute:"",value:t.logining}},[a("poka-loader")],1),a("div",[a("v-text-field",{attrs:{outlined:"",label:t.$t("login_page.server"),disabled:t.logining},model:{value:t.server,callback:function(e){t.server="string"===typeof e?e.trim():e},expression:"server"}}),a("v-text-field",{attrs:{outlined:"",label:t.$t("login_page.username"),disabled:t.logining},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("v-text-field",{attrs:{outlined:"",label:t.$t("login_page.password"),type:"password",disabled:t.logining},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("v-btn",{attrs:{block:"",disabled:t.logining,color:"primary"},on:{click:t.login}},[t._v(t._s(t.$t("login")))])],1)],1)],1)])]),a("v-dialog",{attrs:{"max-width":"420"},model:{value:t.clearSessionDialog,callback:function(e){t.clearSessionDialog=e},expression:"clearSessionDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("login_page.session._")))]),a("v-card-text",[a("p",[t._v(t._s(t.$t("login_page.session.description")))]),a("p",[t._v(t._s(t.$t("login_page.session.description2")))]),a("v-text-field",{attrs:{outlined:"",label:t.$t("login_page.server"),disabled:t.logining},model:{value:t.server,callback:function(e){t.server="string"===typeof e?e.trim():e},expression:"server"}}),a("v-text-field",{attrs:{outlined:"",label:t.$t("login_page.username"),disabled:t.logining},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("v-text-field",{attrs:{outlined:"",label:t.$t("login_page.password"),type:"password",disabled:t.logining},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(e){t.clearSessionDialog=!1}}},[t._v(t._s(t.$t("cancel")))]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.clearSession}},[t._v(t._s(t.$t("reset")))])],1)],1)],1)],1)},oe=[],le={name:"Login",data:()=>({remember:!1,logining:!1,clearSessionDialog:!1,server:null,serverError:null,password:null,username:null,passwordError:null,headerImg:null,isDarkMode:window.matchMedia("(prefers-color-scheme: dark)").matches,currentLang:i18n.locale,langs:Object.keys(i18n.messages).map(t=>({text:i18n.t("title",t),value:t}))}),created(){this.remember=!0,this.password=_setting("password"),this.username=_setting("username"),this.server=_setting("server"),this.headerImg=_setting("headerBgSource")},methods:{setLang(){window.i18n.locale=this.currentLang,window._setting("lang",this.currentLang)},async login(){if(this.passwordError=null,this.serverError=null,this.server=this.server.replace(/\/$/,""),!this.password||!this.server)return this.password||(this.passwordError="Wrong password"),void(this.server||(this.serverError="Unable to connect to server"));this.logining=!0,await this.axios.get(this.server+"/logout/"),this.axios({method:"post",url:this.server+"/login/",data:{password:this.password,username:this.username},config:{headers:{"Content-Type":"multipart/form-data"}}}).catch(t=>this.serverError="Unable to connect to server").then(t=>t.data).then(async t=>{if(!t.success)return this.logining=!1,this.passwordError="Wrong password",this.password="",!1;{_setting("password",this.password),_setting("username",this.username),_setting("server",this.server);let t=(await this.axios(this.server+"/setting/")).data;for(let e of Object.keys(t.settings))console.log(e),_setting(e,t.settings[e]);_socket.emit("login",{username:window._setting("username"),password:window._setting("password")}),_socket.emit("send-nickname",_setting("nickname")),this.$router.push("/"),window.location.reload()}})},async clearSession(){this.clearSessionDialog=!1;let t=await this.axios({method:"post",url:this.server+"/clear-session/",data:{password:this.password,username:this.username},config:{headers:{"Content-Type":"multipart/form-data"}}});t.data.success?this.$snackbar(i18n.t("login_page.session.success")):this.$snackbar(i18n.t("login_page.session.fail")+t.data.e)}}},ce=le,de=(a("865a"),a("b0af")),pe=a("99d9"),ue=a("169a"),me=a("e449"),ge=a("a797"),_e=a("b974"),ve=a("8654"),he=a("71d9"),ye=Object(g["a"])(ce,ne,oe,!1,null,"ec97f81c",null),fe=ye.exports;v()(ye,{VBtn:V["a"],VCard:de["a"],VCardActions:pe["a"],VCardText:pe["b"],VCardTitle:pe["c"],VDialog:ue["a"],VDivider:D["a"],VIcon:U["a"],VList:T["a"],VListItem:A["a"],VListItemTitle:L["c"],VMenu:me["a"],VOverlay:ge["a"],VSelect:_e["a"],VSpacer:M["a"],VTextField:ve["a"],VToolbar:he["a"],VToolbarTitle:B["a"]});var we=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("transition",{attrs:{name:t.bgSlideAnimation,mode:"out-in"}},[t.audio_queue.length>0?a("poka-header",{key:t.audio_index,attrs:{blurbg:!0,title:t.$t("nowplaying"),bg:t.audio_cover}}):a("poka-header",{key:"2"})],1),a("transition",{attrs:{name:"slide-left",mode:"out-in"}},[t.audio_queue.length>0?a("poka-parse-songs",{attrs:{data:t.audio_queue,"now-playing":"","active-index":t.audio_index},scopedSlots:t._u([{key:"default",fn:function(e){return[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.isSafari,expression:"isSafari"}],attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.moreDialog(e.song)}}},[a("v-icon",{staticClass:"material-icons-outlined"},[t._v("more_horiz")])],1),a("v-btn",{attrs:{icon:""},on:{click:function(a){return a.stopPropagation(),t.removeSong(e.index)}}},[a("v-icon",{staticClass:"material-icons-outlined"},[t._v("close")])],1)]}}],null,!1,3811264598)}):a("v-card",{key:"card",staticClass:"mx-auto blur-card",staticStyle:{"margin-top":"32px"},attrs:{"max-width":"344"}},[a("v-card-text",{staticClass:"text-center"},[a("v-icon",{staticClass:"display-4 material-icons-outlined"},[t._v("queue_music")]),a("p",{staticClass:"headline text--primary"},[t._v(t._s(t.$t("app_waitForPlay")))]),a("p",[t._v(t._s(t.$t("app_waitForPlay_description")))]),a("play-random-button")],1)],1)],1),a("v-fab-transition",[t.audio_queue.length>0?a("v-btn",{staticStyle:{bottom:"calc(16px + 69px)"},attrs:{color:"primary",fab:"",large:"",dark:"",bottom:"",right:"",fixed:""},on:{click:t.audio_clean}},[a("v-icon",{staticClass:"material-icons-outlined"},[t._v("clear_all")])],1):t._e()],1)],1)},ke=[],be={name:"NowPlaying",data:()=>({defaultCover:_setting("headerBgSource"),audio_cover:_setting("headerBgSource"),audio_queue:null,audio_index:-1,audio_uuid:":D",updateInterval:null,bgSlideAnimation:"slide-left",isSafari:/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent)}),created(){this.updatePlayer(),this.startUpdatePlayer()},destroyed(){this.stopUpdatePlayer()},methods:{startUpdatePlayer(){this.updateInterval=setInterval(()=>this.updatePlayer(),400)},stopUpdatePlayer(){this.updateInterval&&clearInterval(this.updateInterval)},updatePlayer(){if(this.audio_queue=_player.list.audios,_player.list.audios.length>0){let t=this.audio_uuid,e=this.audio_index;this.audio_index=_player.list.index,this.audio_uuid=_player.list.audios[this.audio_index].uuid,this.audio_cover=_player.list.audios[this.audio_index].cover,t!=this.audio_uuid&&(this.audio_index>e?this.bgSlideAnimation="slide-left":this.bgSlideAnimation="slide-right",this.$nextTick(()=>{let t=document.querySelector(".poka.list > .active");if(t){let e=t.offsetTop-.5*document.querySelector("main").clientHeight+.75*t.clientHeight;e+=69,e+=150,this.$vuetify.goTo(e,{duration:250,offset:0,container:"main",easing:"easeInOutCubic"})}}))}else this.audio_cover=_setting("headerBgSource")},removeSong(t){_player.list.remove(t),this.updatePlayer()},audio_clean(){_player.list.clear()}}},xe=be,Ce=Object(g["a"])(xe,we,ke,!1,null,null,null),Se=Ce.exports;v()(Ce,{VBtn:V["a"],VCard:de["a"],VCardText:pe["b"],VFabTransition:rt["c"],VIcon:U["a"]});var $e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{key:"card",staticClass:"mx-auto blur-card",staticStyle:{"margin-top":"32px"},attrs:{"max-width":"344"}},[a("v-card-text",{staticClass:"text-center"},[a("v-icon",{staticClass:"material-icons-outlined display-4"},[t._v("clear")]),a("p",{staticClass:"headline text--primary"},[t._v(t._s(t.$t("nothingFound")))]),a("v-btn",{attrs:{outlined:"",color:"primary",to:"/"}},[t._v(t._s(t.$t("home")))])],1)],1)},Pe=[],Ve={name:"Notfound"},De=Ve,Ue=Object(g["a"])(De,$e,Pe,!1,null,null,null),Te=Ue.exports;v()(Ue,{VBtn:V["a"],VCard:de["a"],VCardText:pe["b"],VIcon:U["a"]});var Ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("poka-header",{attrs:{title:t.title}}),a("v-slide-y-reverse-transition",[t.data?a("poka-parse-playlists",{attrs:{data:t.data}}):t._e()],1),t.data?t._e():a("poka-loader")],1)},Ie=[],Le={name:"Playlist",created(){let t=this.$route.params.pathMatch,e=this.$route.name;this.axios.get(_setting("server")+"/pokaapi/playlists?rnd="+Math.floor(9999999*Math.random())).then(a=>{"PlaylistFolder"==e?(this.title=a.data.playlists.filter(e=>e.id==t)[0].name,this.data=a.data.playlists.filter(e=>e.id==t)[0].playlists):this.data=a.data.playlists})},data:()=>({data:null,server:_setting("server"),title:i18n.t("playlist")})},Ne=Le,Re=Object(g["a"])(Ne,Ae,Ie,!1,null,null,null),Ee=Re.exports;v()(Re,{VSlideYReverseTransition:rt["g"]});var Oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("poka-header",{attrs:{blurbg:!0,bg:t.cover}}),a("info-header",{attrs:{title:t.title||t.$t("loading"),subtitle:t.$t("playlist"),cover:t.cover,songs:t.data?t.data.songs.length:0}},[t.title?a("pin-button",{attrs:{source:t.$route.params.source,id:t.$route.params.id,cover:t.cover,type:"playlist",name:t.title,"btn-type":"icon-button"}}):t._e(),t.fromPoka?a("v-btn",{attrs:{icon:""},on:{click:function(e){t.playlistDialog=!0}}},[a("v-icon",[t._v("edit")])],1):t._e()],1),a("v-divider"),t.data?a("poka-parse-songs",{attrs:{data:t.data.songs}}):a("poka-loader"),a("v-dialog",{attrs:{"max-width":"400"},model:{value:t.playlistDialog,callback:function(e){t.playlistDialog=e},expression:"playlistDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("playlist_page.edit_title")))]),a("v-card-text",[a("v-text-field",{attrs:{label:t.$t("playlist_page.title_input"),outlined:""},model:{value:t.editData.name,callback:function(e){t.$set(t.editData,"name",e)},expression:"editData.name"}}),a("v-text-field",{attrs:{label:t.$t("playlist_page.cover_input"),outlined:""},model:{value:t.editData.image,callback:function(e){t.$set(t.editData,"image",e)},expression:"editData.image"}})],1),a("v-card-actions",[a("v-btn",{attrs:{text:""},on:{click:function(e){t.playlistDialog=!1,t.playlistDel=!0}}},[t._v(t._s(t.$t("playlist_page.del")))]),a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:t.editPlaylist}},[t._v(t._s(t.$t("done")))])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"400"},model:{value:t.playlistDel,callback:function(e){t.playlistDel=e},expression:"playlistDel"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("playlist_page.del_title")))]),a("v-card-text",[t._v(t._s(t.$t("playlist_page.delconfirm",{title:t.title})))]),a("v-card-actions",[a("v-btn",{attrs:{text:""},on:{click:function(e){t.playlistDel=!1}}},[t._v(t._s(t.$t("cancel")))]),a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(e){t.playlistDel=!1,t.delPlaylist()}}},[t._v(t._s(t.$t("ok")))])],1)],1)],1)],1)},Me=[],Be={name:"PlaylistSongs",data:()=>({data:null,title:null,cover:_setting("headerBgSource"),server:_setting("server"),editData:{name:null,image:_setting("headerBgSource")},fromPoka:!1,playlistDialog:!1,playlistDel:!1,playlistDelConfirm:""}),created(){this.fetchData()},methods:{async editPlaylist(){if(""==this.editData.name||""==this.editData.cover)return this.$snackbar(i18n.t("playlist_page.edit_empty"));this.playlistDialog=!1,await this.axios.post(this.server+"/pokaapi/playlist/edit",{id:this.data.playlists[0].id,data:this.editData}),this.fetchData()},async delPlaylist(){await this.axios.post(this.server+"/pokaapi/playlist/del",{id:this.data.playlists[0].id}),this.$router.push("/playlist")},fetchData(){let t=encodeURIComponent(this.$route.params.source),e=encodeURIComponent(this.$route.params.id),a=this.server;this.axios.get(`${a}/pokaapi/playlistSongs/?moduleName=${t}&id=${e}&rnd=${Math.floor(9999999*Math.random())}`).then(t=>{this.data=t.data,this.title=this.data.playlists[0].name,this.editData.name=this.data.playlists[0].name,this.data.playlists[0].image&&(this.cover=this.data.playlists[0].image,this.editData.image=this.data.playlists[0].image,this.data.playlists[0].image.startsWith("http")||(this.cover=this.server+this.cover)),this.fromPoka="poka"==this.data.playlists[0].source})}}},ze=Be,Fe=Object(g["a"])(ze,Oe,Me,!1,null,null,null),je=Fe.exports;v()(Fe,{VBtn:V["a"],VCard:de["a"],VCardActions:pe["a"],VCardText:pe["b"],VCardTitle:pe["c"],VDialog:ue["a"],VDivider:D["a"],VIcon:U["a"],VSpacer:M["a"],VTextField:ve["a"]});var He=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},Qe=[],qe={name:"Shuffle",created(){this.$randomPlay(),this.$router.push("/home")}},Ge=qe,Ye=Object(g["a"])(Ge,He,Qe,!1,null,null,null),Je=Ye.exports,We=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{theme:t.lyric_theme}},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[t.audio_cover?a("poka-header",{key:t.audio_cover,attrs:{blurbg:!0,bg:t.audio_cover}}):a("poka-header",{key:"2"})],1),a("div",{on:{dblclick:t.openLyricDialog}},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[t.lyric.length>1?a("div",{key:"lyric",staticClass:"lyric",class:{lyricTranslated:t.lyricTranslated}},t._l(t.lyric,(function(e,s){return a("p",{key:s,class:[{focus:s==t.lyricFocus},{tl:!!t.lyricTranslated&&Math.floor((s-t.lyricFocus)/2)!=Math.round((s-t.lyricFocus)/2)}],attrs:{"data-lyric-set":t.lyricTranslated?Math.floor((s-t.lyricFocus)/2):s-t.lyricFocus}},[a("span",[t._v(t._s(e.text))])])})),0):t.lyricSearching?a("v-card",{key:"lyricSearchingcard",staticClass:"mx-auto blur-card",staticStyle:{"margin-top":"32px"},attrs:{"max-width":"344"}},[a("v-card-text",{staticClass:"text-center"},[a("v-icon",{staticClass:"material-icons-outlined display-4"},[t._v("subtitles")]),a("p",{staticClass:"headline text--primary"},[t._v(t._s(t.$t("loading")))])],1)],1):a("v-card",{key:"lrc_noLyrics",staticClass:"mx-auto blur-card",staticStyle:{"margin-top":"32px"},attrs:{"max-width":"344"}},[a("v-card-text",{staticClass:"text-center"},[a("v-icon",{staticClass:"material-icons-outlined display-4"},[t._v("subtitles")]),a("p",{staticClass:"headline text--primary"},[t._v(t._s(t.$t("lrc_noLyrics")))]),a("v-btn",{attrs:{outlined:"",color:"primary"},on:{click:function(e){t.showLyricDialog=!0}}},[t._v(t._s(t.$t("lrc_search")))])],1)],1)],1)],1),a("v-fab-transition",[a("v-btn",{staticStyle:{bottom:"calc(16px + 69px)"},attrs:{color:"primary",fab:"",large:"",dark:"",bottom:"",right:"",fixed:""},on:{click:t.openLyricDialog}},[a("v-icon",[t._v("search")])],1)],1),a("v-dialog",{attrs:{"max-width":"420"},model:{value:t.showLyricDialog,callback:function(e){t.showLyricDialog=e},expression:"showLyricDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("lrc_search")))]),a("v-card-text",{staticStyle:{"padding-bottom":"0"}},[a("v-text-field",{attrs:{label:t.$t("lrc_search"),name:"searchLyric",disabled:t.lyricSearching,solo:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getLyricByKeyword()},change:function(e){return t.getLyricByKeyword()}},model:{value:t.lyricSearchkeyword,callback:function(e){t.lyricSearchkeyword="string"===typeof e?e.trim():e},expression:"lyricSearchkeyword"}}),a("p",{staticStyle:{"margin-top":"-22px"}},[a("small",[t._v(t._s(t.$t("lrc_enter2search")))])])],1),a("v-divider"),a("v-card-text",{staticStyle:{"max-height":"400px",overflow:"scroll","overflow-x":"hidden"}},[a("div",{staticClass:"poka list",staticStyle:{width:"372px"}},[a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item",on:{click:function(e){t.loadLrc("[00:00.000]",!0),t.showLyricDialog=!1}}},[a("div",{staticClass:"content"},[a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(t.$t("lrc_notLoad")))]),a("div",{staticClass:"t-ellipsis"},[t._v(t._s(t.$t("lrc_notLoad_description")))])])])])]),!t.lyricSearching&&t.lyricSearchResult?a("div",{staticClass:"poka list",staticStyle:{width:"100%"}},t._l(t.lyricSearchResult,(function(e,s){return a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:s,staticClass:"item",on:{click:function(a){t.loadLrc(e.lyric,!0),t.showLyricDialog=!1}}},[a("div",{staticClass:"content"},[a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(e.name))]),a("div",{staticClass:"t-ellipsis"},[t._v(t._s(e.artist))])])])])})),0):t.lyricSearching?a("poka-loader"):a("div",{staticStyle:{"text-align":"center",padding:"40px 0"}},[a("v-btn",{attrs:{color:"primary"},on:{click:t.dialogSearch}},[t._v(t._s(t.$t("search")))])],1)],1),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{text:""},on:{click:t.editLyric}},[t._v("編輯目前的歌詞")]),a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(e){t.showLyricDialog=!1}}},[t._v(t._s(t.$t("cancel")))])],1)],1)],1)],1)},Ke=[],Xe={name:"LyricEdit",data:()=>({audio_title:null,audio_artist:null,audio_cover:null,showLyricDialog:!1,lyric:[],lyric_raw:null,lyricFocus:0,lyricSearching:!0,lyricSearchResult:null,lyricTranslated:!1,lyricSearchkeyword:null,Lyric_Update:null,lyric_color:null,lyric_shadow_color:null,lyric_theme:_setting("lyricTheme")}),created(){this.updateLyric(),this.startUpdateLyric()},destroyed(){this.stopUpdateLyric()},methods:{editLyric(){window.localStorage["lrc_temp"]=this.lyric_raw,this.$router.push("/lyric/edit")},startUpdateLyric(){this.Lyric_Update=setInterval(()=>this.updateLyric(),300)},stopUpdateLyric(){this.Lyric_Update&&clearInterval(this.Lyric_Update)},openLyricDialog(){this.showLyricDialog=!0;_player.list.audios[_player.list.index];this.lyricSearchkeyword=this.audio_title+" "+this.audio_artist},dialogSearch(){this.getLyricByKeyword(this.lyricSearchkeyword,!1)},updateLyric(){let t=_player.list.audios[_player.list.index];if(_player.list.audios.length>0){if(this.audio_title!=t.name)window._lrc.load("[00:00.000]"),this.lyricFocus=0,this.lyricSearching=!0,this.lyricSearchResult=null,this.lyricSearchkeyword=t.name+" "+t.artist,this.getLyric(t.name,t.artist,t.id,t.source),this.audio_title=t.name,this.audio_artist=t.artist,this.audio_cover=t.cover;else if(this.lyric=window._lrc.getLyrics(),this.lyric.length>1){let t=window._lrc.select(_player.audio.currentTime);this.lyricFocus!=t&&(this.lyricFocus=t,this.$nextTick(()=>{let t=document.querySelector('.lyric [data-lyric-set="0"].focus'),e=document.querySelector('.lyric [data-lyric-set="0"].tl')||null;if(t){let a=t.offsetTop-document.querySelector("main").clientHeight/2+t.clientHeight/2;e&&(a=e.offsetTop-document.querySelector("main").clientHeight/2-t.clientHeight),a+=69,this.$vuetify.breakpoint.mdAndUp||(a+=56),this.$vuetify.goTo(a,{duration:250,offset:0,container:"main",easing:"easeInOutCubic"})}else this.lyricFocus=0}))}}else this.noloadedLyric=!0,this.lyricSearching=!1},getLyric(t,e,a=!1,s){let i,r=/\[([0-9.:]*)\]/i;a?(i=_setting("server")+`/pokaapi/lyric/?moduleName=${encodeURIComponent(s)}&id=${encodeURIComponent(a)}&time=${(new Date).getTime()}`,this.axios(i).then(e=>{e.data.lyrics[0].lyric&&e.data.lyrics[0].lyric.match(r)?t==this.audio_title&&this.loadLrc(e.data.lyrics[0].lyric):this.getLyricByKeyword(this.lyricSearchkeyword)})):this.getLyricByKeyword(this.lyricSearchkeyword)},getLyricByKeyword(t,e=!0){t||(t=this.lyricSearchkeyword),this.lyricSearching=!0,this.axios(_setting("server")+"/pokaapi/searchLyrics/?keyword="+encodeURIComponent(t)).then(t=>t.data).then(a=>{a.lyrics.length>0&&(a.lyrics.forEach(t=>{let e=.7*this.matchRate(this.audio_title,t.name)+.3*this.matchRate(this.audio_artist,t.artist);e=Math.round(100*e)/100,t.rate=e>0?e>100?90.25:e:0}),a.lyrics.sort((t,e)=>e.rate-t.rate),t==this.lyricSearchkeyword&&(a.lyrics[0].rate>35&&e&&this.loadLrc(a.lyrics[0].lyric),this.lyricSearchResult=a.lyrics)),this.lyricSearching=!1})},matchRate(t,e,a=0){t=t.toLowerCase(),e=e.toLowerCase();for(let s of t.split(""))e.includes(s)?a++:a--;for(let s of e.split(""))t.includes(s)?a++:a--;return Math.round(a/(2*t.length)*1e4)/100},loadLrc(t,e=!1){window._lrc.load(t),this.lyric_raw=t,this.$vuetify.goTo(0,{duration:250,offset:0,container:"main",easing:"easeInOutCubic"}),this.lyricFocus=0;try{window._lrc.lyrics_all[window._lrc.lyrics_all.length-2].timestamp==window._lrc.lyrics_all[window._lrc.lyrics_all.length-1].timestamp?(window._lrc.lyrics_all[window._lrc.lyrics_all.length-2].timestamp+=100,this.lyricTranslated=!0,window._lrc.lyrics_all=window._lrc.lyrics_all.sort((t,e)=>t.timestamp-e.timestamp)):this.lyricTranslated=!1}catch(a){this.lyricTranslated=!1}if(this.lyricSearching=!1,e){let e=_player.list.audios[_player.list.index];this.axios.post(_setting("server")+"/pokaapi/lyric",{title:e.name,artist:e.artist,songId:e.id,source:e.source,lyric:t}),this.$snackbar(i18n.t("lrc_saved"))}}}},Ze=Xe,ta=(a("2012"),a("269a")),ea=a.n(ta),aa=a("5607"),sa=Object(g["a"])(Ze,We,Ke,!1,null,"fdc95dba",null),ia=sa.exports;v()(sa,{VBtn:V["a"],VCard:de["a"],VCardActions:pe["a"],VCardText:pe["b"],VCardTitle:pe["c"],VDialog:ue["a"],VDivider:D["a"],VFabTransition:rt["c"],VIcon:U["a"],VSpacer:M["a"],VTextField:ve["a"]}),ea()(sa,{Ripple:aa["a"]});var ra=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("div",{attrs:{id:"lrc-editor"}},[t.lyric.length>1?a("div",{key:"lyric",staticClass:"lyric-view",class:{lyricTranslated:t.lyricTranslated}},t._l(t.lyric,(function(e,s){return a("p",{key:s,class:{focus:s==t.lyricFocus},on:{click:function(a){return t.musicSeek(e.timestamp)}}},[a("span",{staticClass:"timestamp"},[t._v(t._s(t.timeToTag(e.timestamp)))]),t._v("\n\t\t\t\t\t"+t._s(e.text)+"\n\t\t\t\t")])})),0):t._e(),a("div",{attrs:{id:"lyric-edit"}},[a("v-card",{staticClass:"mx-auto",attrs:{id:"lyric-edit-about"}},[a("v-card-text",[a("div",[t._v("PokaPlayer 歌詞編輯器 Beta")]),a("p",{staticClass:"display-1 text--primary"},[t._v("使用說明")]),a("div",{staticClass:"text--primary"},[t._v("\n\t\t\t\t\t\t\t左側為歌詞預覽，右側則是編輯區塊\n\t\t\t\t\t\t\t"),a("br"),t._v("編輯完成後請按左下角打勾儲存歌詞，若要取消編輯點擊返回鍵即可跳出\n\t\t\t\t\t\t\t"),a("br"),t._v("點擊歌詞預覽的歌詞即可將歌曲轉跳至該時間，若是雙語歌詞，請點選原文部份\n\t\t\t\t\t\t\t"),a("br"),t._v("若有任何問題或功能建議，歡迎透過「設定->關於->GitHub->Issues」提出\n\t\t\t\t\t\t")])])],1),a("v-card",{staticClass:"mx-auto",attrs:{id:"lyric-edit-about-phone"}},[a("v-card-text",[a("div",[t._v("PokaPlayer 歌詞編輯器 Beta")]),a("p",{staticClass:"display-1 text--primary"},[t._v("使用說明")]),a("div",{staticClass:"text--primary"},[t._v("\n\t\t\t\t\t\t\t上方為歌詞預覽，下方則是編輯區塊\n\t\t\t\t\t\t\t"),a("br"),t._v("編輯完成後請按左下角打勾儲存歌詞，若要取消編輯點擊返回鍵即可跳出\n\t\t\t\t\t\t\t"),a("br"),t._v("點擊歌詞預覽的歌詞即可將歌曲轉跳至該時間，若是雙語歌詞，請點選原文部份\n\t\t\t\t\t\t\t"),a("br"),t._v("若有任何問題或功能建議，歡迎透過「設定->關於->GitHub->Issues」提出\n\t\t\t\t\t\t")])])],1),a("v-card",{staticClass:"mx-auto",attrs:{id:"lyric-edit-time-shift"}},[a("v-card-text",{staticStyle:{"padding-bottom":"0"}},[a("div",[t._v("時間平移")]),a("p",{staticClass:"display-1 text--primary",staticStyle:{"margin-bottom":"0"}},[t._v(t._s(t.timeShiftValue>=0?"+":"")+t._s(t.timeShiftValue)+"s")])]),a("v-card-actions",[a("v-btn",{attrs:{text:"",color:"red accent-4"},on:{click:function(e){return t.timeShift(-.5)}}},[t._v("-0.5s")]),a("v-btn",{attrs:{text:"",color:"red accent-4"},on:{click:function(e){return t.timeShift(-.1)}}},[t._v("-0.1s")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.timeShift(.1)}}},[t._v("+0.1s")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.timeShift(.5)}}},[t._v("+0.5s")]),a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.timeShift(-t.timeShiftValue)}}},[t._v("重置")])],1)],1),a("v-card",{staticClass:"mx-auto",attrs:{id:"lyric-edit-text-editor"}},[a("v-card-text",{staticStyle:{"padding-bottom":"0"}},[a("div",[t._v("文字編輯器")]),a("v-textarea",{attrs:{"max-height":"100%",rows:"20"},model:{value:t.lyric_raw,callback:function(e){t.lyric_raw=e},expression:"lyric_raw"}})],1)],1)],1)])]),a("v-fab-transition",[a("v-btn",{staticStyle:{bottom:"calc(16px + 69px)"},attrs:{color:"primary",fab:"",large:"",dark:"",bottom:"",right:"",fixed:""},on:{click:t.saveLyric}},[a("v-icon",[t._v("done")])],1)],1)],1)},na=[],oa={name:"LyricEdit",data:()=>({audio_title:null,audio_artist:null,audio_cover:null,showLyricDialog:!1,lyric:[],lyric_raw:null,lyricFocus:0,lyricSearching:!0,lyricSearchResult:null,lyricTranslated:!1,lyricSearchkeyword:null,Lyric_Update:null,timeShiftValue:0}),created(){this.updateLyric(),this.startUpdateLyric(),_player.options.order=_player.options.order+"_r",this.lyric_raw=window.localStorage["lrc_temp"],this.loadLrc(this.lyric_raw)},destroyed(){this.stopUpdateLyric(),_player.options.order=_player.options.order.replace("_r","")},watch:{lyric_raw(t){this.loadLrc(t)}},methods:{loadLrc(t){if(window._lrc.load(t),window._lrc.lyrics_all[window._lrc.lyrics_all.length-2].timestamp==window._lrc.lyrics_all[window._lrc.lyrics_all.length-1].timestamp){let t=window._lrc.lyrics_all[window._lrc.lyrics_all.length-2].text;window._lrc.lyrics_all[window._lrc.lyrics_all.length-2].text=window._lrc.lyrics_all[window._lrc.lyrics_all.length-1].text,window._lrc.lyrics_all[window._lrc.lyrics_all.length-1].text=t,this.lyricTranslated=!0}},timeShift(t){let e=window._lrc.getLyrics(),a="";for(let s in e)e[s].timestamp=this.minus(e[s].timestamp,this.times(t,-1)),a+=`[${this.timeToTag(e[s].timestamp)}]${e[s].text}\n`;this.lyric_raw=a,this.timeShiftValue=this.minus(this.timeShiftValue,this.times(t,-1))},musicSeek(t){_player.seek(t)},minus(t,e,...a){if(a.length>0)return this.minus(this.minus(t,e),a[0],...a.slice(1));const s=Math.pow(10,Math.max(this.digitLength(t),this.digitLength(e)));return(this.times(t,s)-this.times(e,s))/s},digitLength(t){const e=t.toString().split(/[eE]/),a=(e[0].split(".")[1]||"").length-+(e[1]||0);return a>0?a:0},times(t,e,...a){function s(t){(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)&&console.warn(t+" is beyond boundary when transfer to integer, the results may not be accurate")}function i(t){if(-1===t.toString().indexOf("e"))return Number(t.toString().replace(".",""));const e=this.digitLength(t);return e>0?t*Math.pow(10,e):t}if(a.length>0)return this.times(this.times(t,e),a[0],...a.slice(1));const r=i(t),n=i(e),o=this.digitLength(t)+this.digitLength(e),l=r*n;return s(l),l/Math.pow(10,o)},timeToTag(t){let e=Math.floor(t/60),a=this.minus(t,60*e);return`${e}:${a}`},startUpdateLyric(){this.Lyric_Update=setInterval(()=>this.updateLyric(),300)},stopUpdateLyric(){this.Lyric_Update&&clearInterval(this.Lyric_Update)},updateLyric(){if(this.lyric=window._lrc.getLyrics(),this.lyric.length>1){let t=window._lrc.select(_player.audio.currentTime);this.lyricFocus!=t&&(this.lyricFocus=t,this.$nextTick(()=>{let t=document.querySelector(".lyric-view p.focus");if(t){let e=t.offsetTop-.5*document.querySelector(".lyric-view").clientHeight+t.clientHeight*(this.lyricTranslated?1.75:.75);this.$vuetify.goTo(e,{duration:250,offset:0,container:".lyric-view",easing:"easeInOutCubic"})}else this.lyricFocus=0}))}},saveLyric(){let t=_player.list.audios[_player.list.index];this.axios.post(_setting("server")+"/pokaapi/lyric",{title:t.name,artist:t.artist,songId:t.id,source:t.source,lyric:this.lyric_raw}),this.$snackbar(i18n.t("lrc_saved")),this.$router.push("/lyric")}}},la=oa,ca=(a("b2c8"),a("1a0e"),a("a844")),da=Object(g["a"])(la,ra,na,!1,null,"4648ee3c",null),pa=da.exports;v()(da,{VBtn:V["a"],VCard:de["a"],VCardActions:pe["a"],VCardText:pe["b"],VFabTransition:rt["c"],VIcon:U["a"],VSpacer:M["a"],VTextarea:ca["a"]});var ua=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"search-box",class:{focus:t.searchBoxFocus}},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.keyword,expression:"keyword",modifiers:{trim:!0}}],staticClass:"search-input",attrs:{type:"text",placeholder:t.$t("search"),autocomplete:"off",required:""},domProps:{value:t.keyword},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchClick(e)},focus:function(e){t.searchBoxFocus=!0},blur:[function(e){t.searchBoxFocus=!1},function(e){return t.$forceUpdate()}],input:function(e){e.target.composing||(t.keyword=e.target.value.trim())}}}),a("button",{staticClass:"search-button",on:{click:t.search}},[a("v-icon",[t._v("search")])],1)]),a("v-overlay",{attrs:{absolute:"",value:t.isLoading}},[a("poka-loader")],1),a("v-slide-y-reverse-transition",[t.searchResult?a("div",[a("v-card",[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""},scopedSlots:t._u([{key:"extension",fn:function(){return[a("v-tabs",{staticClass:"primary--text",attrs:{"background-color":"transparent"},model:{value:t.tabs,callback:function(e){t.tabs=e},expression:"tabs"}},t._l(Object.keys(t.searchResult).filter((function(e){return t.searchResult[e].length})),(function(e){return a("v-tab",{key:e},[t._v(t._s(t.$t(e.substring(0,e.length-1))))])})),1)]},proxy:!0}],null,!1,1484231584)},[a("v-toolbar-title",[t._v(t._s(t.keyword||t.$t("search")))])],1),a("v-tabs-items",{model:{value:t.tabs,callback:function(e){t.tabs=e},expression:"tabs"}},t._l(Object.keys(t.searchResult).filter((function(e){return t.searchResult[e].length})),(function(e){return a("v-tab-item",{key:e},[a("v-card",{attrs:{flat:""}},[a("v-card-text",["songs"==e?a("poka-parse-songs",{attrs:{data:t.searchResult[e]}}):t._e(),"albums"==e?a("poka-parse-albums",{attrs:{data:t.searchResult[e]}}):t._e(),"playlists"==e?a("poka-parse-playlists",{attrs:{data:t.searchResult[e]}}):t._e(),"folders"==e?a("poka-parse-folders",{attrs:{data:t.searchResult[e]}}):t._e(),"composers"==e?a("poka-parse-composers",{attrs:{data:t.searchResult[e]}}):t._e(),"artists"==e?a("poka-parse-artists",{attrs:{data:t.searchResult[e]}}):t._e()],1)],1)],1)})),1)],1)],1):t._e()])],1)},ma=[],ga={name:"Search",data:()=>({keyword:"",searchResult:!1,isLoading:!1,searchBoxFocus:!1,tabs:null}),created(){this.$route.query.keyword&&(this.keyword=this.$route.query.keyword,this.search())},methods:{searchClick(){this.$router.replace({query:{keyword:this.keyword}}),this.search()},search(){this.keyword&&""!=this.keyword&&(this.isLoading=!0,this.axios.get(_setting("server")+"/pokaapi/search/?keyword="+this.keyword).then(t=>{this.searchResult=t.data,this.isLoading=!1}).catch(t=>this.isLoading=!1))}}},_a=ga,va=(a("3ed7"),a("71a3")),ha=a("c671"),ya=a("fe57"),fa=a("aac8"),wa=Object(g["a"])(_a,ua,ma,!1,null,"094cb1d5",null),ka=wa.exports;v()(wa,{VCard:de["a"],VCardText:pe["b"],VIcon:U["a"],VOverlay:ge["a"],VSlideYReverseTransition:rt["g"],VTab:va["a"],VTabItem:ha["a"],VTabs:ya["a"],VTabsItems:fa["a"],VToolbar:he["a"],VToolbarTitle:B["a"]});var ba=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("poka-header",{attrs:{title:t.$t("settings")}}),a("poka-update"),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isAdmin,expression:"isAdmin"}],staticClass:"text-h4",staticStyle:{margin:"60px 0 4px 4px"}},[t._v(t._s(t.$t("settingIndex.normalItems")))]),a("poka-cards",{staticClass:"poka cards",attrs:{"hide-overflow":!1}},[t._l(t.settingItems,(function(t){return a("poka-card",{key:t.to,attrs:{to:t.to,"poka-icon":t.icon,"poka-title":t.text}})})),a("poka-card",{attrs:{"poka-icon":"info","poka-title":t.$t("settings_about")},nativeOn:{click:function(e){t.aboutDialog=!0}}})],2),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isAdmin,expression:"isAdmin"}],staticClass:"text-h4",staticStyle:{margin:"60px 0 4px 4px"}},[t._v(t._s(t.$t("settingIndex.adminItems")))]),a("poka-cards",{directives:[{name:"show",rawName:"v-show",value:t.isAdmin,expression:"isAdmin"}],staticClass:"poka cards",attrs:{"hide-overflow":!1}},t._l(t.adminSettingItems,(function(t){return a("poka-card",{key:t.to,attrs:{to:t.to,"poka-icon":t.icon,"poka-title":t.text}})})),1),a("v-dialog",{attrs:{"max-width":"350"},model:{value:t.aboutDialog,callback:function(e){t.aboutDialog=e},expression:"aboutDialog"}},[a("poka-about")],1)],1)},xa=[],Ca={name:"Setting",data:()=>({aboutDialog:!1,isAdmin:"admin"==JSON.parse(sessionStorage.getItem("login")).role||!1,settingItems:[{text:i18n.t("settings_network"),icon:"cloud",to:"/settings/network"},{text:i18n.t("settingInterface._"),icon:"layers",to:"/settings/interface"},{text:i18n.t("settingUser.title"),icon:"person",to:"/settings/user"},{text:i18n.t("settingPins.title"),icon:"push_pin",to:"/settings/pins"}],adminSettingItems:[{text:i18n.t("settings_systemAndUpdate"),icon:"system_update",to:"/settings/system"},{text:i18n.t("settingUserManagement.title"),icon:"person",to:"/settings/admin/users"}]})},Sa=Ca,$a=Object(g["a"])(Sa,ba,xa,!1,null,null,null),Pa=$a.exports;v()($a,{VDialog:ue["a"]});var Va=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("poka-header",{attrs:{title:t.$t("settings_network")}}),a("div",{staticClass:"poka list"},[a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item",on:{click:function(e){t.showSoundQualityDialog=!0}}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"42px",item:""}},[a("v-icon",[t._v("music_note")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(t.$t("settings_network_soundQuality")))]),a("div",{staticClass:"t-ellipsis"},[t._v(t._s(t.$t("settings_network_soundQuality_"+t.soundQuality)))])])],1)])]),a("v-dialog",{attrs:{"max-width":"800"},model:{value:t.showSoundQualityDialog,callback:function(e){t.showSoundQualityDialog=e},expression:"showSoundQualityDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("settings_network_soundQuality")))]),a("v-card-text",[a("poka-cards",{staticClass:"poka four doubling cards",attrs:{"hide-overflow":!1}},[a("poka-card",{attrs:{"poka-icon":"music_note",ellipsis:!1,"poka-title":t.$t("settings_network_soundQuality_Low"),"poka-subtitle":t.$t("settings_network_soundQuality_Low_description")},nativeOn:{click:function(e){return t.setSoundQuality("Low")}}}),a("poka-card",{attrs:{"poka-icon":"music_note",ellipsis:!1,"poka-title":t.$t("settings_network_soundQuality_Med"),"poka-subtitle":t.$t("settings_network_soundQuality_Med_description")},nativeOn:{click:function(e){return t.setSoundQuality("Med")}}}),a("poka-card",{attrs:{"poka-icon":"music_note",ellipsis:!1,"poka-title":t.$t("settings_network_soundQuality_High"),"poka-subtitle":t.$t("settings_network_soundQuality_High_description")},nativeOn:{click:function(e){return t.setSoundQuality("High")}}}),a("poka-card",{attrs:{"poka-icon":"music_note",ellipsis:!1,"poka-title":t.$t("settings_network_soundQuality_Ori"),"poka-subtitle":t.$t("settings_network_soundQuality_Ori_description")},nativeOn:{click:function(e){return t.setSoundQuality("Ori")}}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(e){t.showSoundQualityDialog=!1}}},[t._v(t._s(t.$t("cancel")))])],1)],1)],1)],1)},Da=[],Ua={name:"SettingNetwork",data:()=>({soundQuality:window._setting("audioQuality"),showSoundQualityDialog:!1}),methods:{setSoundQuality(t){try{this.soundQuality=t,this.showSoundQualityDialog=!1,window._setting("audioQuality",t),this.axios({method:"post",url:_setting("server")+"/setting/",data:{n:{audioQuality:t}}})}catch(e){console.error(e)}}}},Ta=Ua,Aa=a("8212"),Ia=Object(g["a"])(Ta,Va,Da,!1,null,null,null),La=Ia.exports;v()(Ia,{VAvatar:Aa["a"],VBtn:V["a"],VCard:de["a"],VCardActions:pe["a"],VCardText:pe["b"],VCardTitle:pe["c"],VDialog:ue["a"],VIcon:U["a"],VSpacer:M["a"]}),ea()(Ia,{Ripple:aa["a"]});var Na=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("poka-header",{attrs:{title:t.$t("settingInterface._"),bg:t.setting.bg}}),a("v-subheader",[t._v(t._s(t.$t("settingInterface.lang")))]),a("div",{staticClass:"poka list"},[a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item",on:{click:function(e){t.lang_dialog=!0}}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"42px",item:""}},[a("v-icon",[t._v("translate")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(t.$t("settingInterface.lang")))]),a("div",{staticClass:"t-ellipsis"},[t._v(t._s(t.$t("title",t.currentLang)))])])],1)])]),a("v-subheader",[t._v(t._s(t.$t("settingInterface.customize.bg._")))]),a("div",{staticClass:"poka list"},[a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item",on:{click:function(e){t.customize_bg_dialog=!0}}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"42px",item:""}},[a("v-icon",[t._v("landscape")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(t.$t("settingInterface.customize.bg._")))]),a("div",{staticClass:"t-ellipsis"},[t._v(t._s(t.$t("settingInterface.customize.bg.description")))])])],1)]),a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item",on:{click:function(e){t.bg_height_dialog=!0}}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"42px",item:""}},[a("v-icon",[t._v("style")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(t.$t("settingInterface.customize.bg_cover._")))]),a("div",{staticClass:"t-ellipsis"},[t._v(t._s(t.$t("settingInterface.customize.bg_cover.description")))])])],1)]),a("v-subheader",[t._v(t._s(t.$t("settingInterface.customize.theme")))]),a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item",on:{click:function(e){t.theme_dialog=!0}}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"42px",item:""}},[a("v-icon",[t._v("palette")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(t.$t("settingInterface.customize.theme_color._")))]),a("div",{staticClass:"t-ellipsis"},[t._v(t._s(t.$t("settingInterface.customize.theme_color.description")))])])],1)]),a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item",on:{click:function(e){t.lyric_theme_dialog=!0}}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"42px",item:""}},[a("v-icon",[t._v("palette")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(t.$t("settingInterface.customize.lyric._")))]),a("div",{staticClass:"t-ellipsis"},[t._v(t._s(t.$t("settingInterface.customize.lyric.description")))])])],1)]),a("v-subheader",[t._v(t._s(t.$t("settingInterface.customize.layout._")))]),a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item",on:{click:function(e){return t.changeStyle("artist")}}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"42px",item:""}},[a("v-icon",[t._v(t._s("card"==t.view.artist?"view_module":"list"))])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(t.$t("settingInterface.customize.layout.artist")))]),a("div",{staticClass:"t-ellipsis"},[t._v(t._s(t.$t("settingInterface.customize.layout."+t.view.artist)))])])],1)]),a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item",on:{click:function(e){return t.changeStyle("composer")}}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"42px",item:""}},[a("v-icon",[t._v(t._s("card"==t.view.composer?"view_module":"list"))])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(t.$t("settingInterface.customize.layout.composer")))]),a("div",{staticClass:"t-ellipsis"},[t._v(t._s(t.$t("settingInterface.customize.layout."+t.view.composer)))])])],1)])],1),a("v-dialog",{attrs:{"max-width":"300"},model:{value:t.bg_height_dialog,callback:function(e){t.bg_height_dialog=e},expression:"bg_height_dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("settingInterface.customize.bg_cover._")))]),a("v-card-text",[a("div",{staticClass:"poka list"},[a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item",on:{click:function(e){return t.setBgHeight("full")}}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"24px",item:""}},[a("v-icon",[t._v("star")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head"},[t._v(t._s(t.$t("settingInterface.customize.bg_cover.options.full")))])])],1)]),a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item",on:{click:function(e){return t.setBgHeight("half")}}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"24px",item:""}},[a("v-icon",[t._v("star_half")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head"},[t._v(t._s(t.$t("settingInterface.customize.bg_cover.options.half")))])])],1)]),a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item",on:{click:function(e){return t.setBgHeight("none")}}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"24px",item:""}},[a("v-icon",[t._v("star_border")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head"},[t._v(t._s(t.$t("settingInterface.customize.bg_cover.options.none")))])])],1)])])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(e){t.bg_height_dialog=!1}}},[t._v(t._s(t.$t("back")))])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"1200"},model:{value:t.customize_bg_dialog,callback:function(e){t.customize_bg_dialog=e},expression:"customize_bg_dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("settingInterface.customize.bg._")))]),a("v-card-text",[a("poka-cards",[a("poka-card",{attrs:{"poka-icon":"link","poka-title":t.$t("settingInterface.customize.bg.custom_link")},nativeOn:{click:function(e){t.bg_prompt_active=!0}}}),t._l(t.imgSources,(function(e){var s=e.name,i=e.src;return a("poka-card",{key:i,attrs:{"poka-bg":i,"poka-title":s},nativeOn:{click:function(e){return t.setBg(i)}}})}))],2)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(e){t.customize_bg_dialog=!1}}},[t._v(t._s(t.$t("done")))])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"340"},model:{value:t.theme_dialog,callback:function(e){t.theme_dialog=e},expression:"theme_dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("settingInterface.customize.theme_color._")))]),a("v-card-text",[a("v-color-picker",{staticClass:"ma-2",staticStyle:{margin:"8px auto !important"},attrs:{flat:"",mode:"hex",swatches:t.swatches,"show-swatches":""},model:{value:t.color,callback:function(e){t.color=e},expression:"color"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(e){t.theme_dialog=!1}}},[t._v(t._s(t.$t("done")))])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"420"},model:{value:t.bg_prompt_active,callback:function(e){t.bg_prompt_active=e},expression:"bg_prompt_active"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("settingInterface.customize.bg._")))]),a("v-card-text",{staticStyle:{"padding-bottom":"0"}},[a("v-text-field",{attrs:{label:"URL",filled:""},model:{value:t.bg_prompt_textbox,callback:function(e){t.bg_prompt_textbox="string"===typeof e?e.trim():e},expression:"bg_prompt_textbox"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:t.bg_prompt_cancel}},[t._v(t._s(t.$t("cancel")))]),a("v-btn",{attrs:{text:""},on:{click:t.bg_prompt_ok}},[t._v(t._s(t.$t("ok")))])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300"},model:{value:t.lang_dialog,callback:function(e){t.lang_dialog=e},expression:"lang_dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("settingInterface.lang")))]),a("v-card-text",[a("div",{staticClass:"poka list"},t._l(t.languages,(function(e,s){return a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:"lang"+e+"-"+s,staticClass:"item",on:{click:function(a){return t.setLang(e)}}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"24px",item:""}},[a("v-icon",[t._v("translate")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(t.$t("title",e)))])])],1)])})),0)]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(e){t.lang_dialog=!1}}},[t._v(t._s(t.$t("cancel")))])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300"},model:{value:t.lyric_theme_dialog,callback:function(e){t.lyric_theme_dialog=e},expression:"lyric_theme_dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("settingInterface.lang")))]),a("v-card-text",[a("div",{staticClass:"poka list"},[a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item",on:{click:function(e){return t.setLyricTheme("bigtext")}}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"24px",item:""}},[a("v-icon",[t._v("palette")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head"},[t._v("Big text")])])],1)]),a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item",on:{click:function(e){return t.setLyricTheme("default")}}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"24px",item:""}},[a("v-icon",[t._v("palette")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head"},[t._v("Default")])])],1)]),a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item",on:{click:function(e){return t.setLyricTheme("spacing")}}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"24px",item:""}},[a("v-icon",[t._v("palette")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head"},[t._v("Spacing")])])],1)]),a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item",on:{click:function(e){return t.setLyricTheme("underline")}}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"24px",item:""}},[a("v-icon",[t._v("palette")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head"},[t._v("Underline")])])],1)])])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(e){t.lyric_theme_dialog=!1}}},[t._v(t._s(t.$t("cancel")))])],1)],1)],1)],1)},Ra=[],Ea={name:"SettingCustomize",data:()=>({lang_dialog:!1,languages:Object.keys(window.i18n.messages),currentLang:window.i18n.locale,lyric_theme_dialog:!1,theme_dialog:!1,bg_height_dialog:!1,view:{artist:_setting("artistView"),composer:_setting("composerView")},customize_bg_dialog:!1,bg_prompt_active:!1,bg_prompt_textbox:window._setting("headerBgSource"),setting:{bg:window._setting("headerBgSource")},imgSources:[{name:"LoremFlickr",src:"https://loremflickr.com/1920/1080"},{name:"Picsum Photos",src:"https://picsum.photos/1920/1080/?random"},{name:"Random Image API",src:"https://random.imagecdn.app/v1/image?width=1920&height=1080"},{name:"Bing",src:"https://area.sinaapp.com/bingImg/"},{name:"The Dog API (GIF)",src:"https://api.thedogapi.com/v1/images/search?format=src&mime_types=image/gif"},{name:"The Dog API (PNG)",src:"https://api.thedogapi.com/v1/images/search?format=src&mime_types=image/png"},{name:"The Cat API (GIF)",src:"https://thecatapi.com/api/images/get?format=src&type=gif"},{name:"The Cat API (PNG)",src:"https://thecatapi.com/api/images/get?format=src&type=png"},{name:"Unsplash Source",src:"https://source.unsplash.com/random"},{name:"Sword Art Online: Alicization",src:"https://images2.imgbox.com/99/e2/knJdNcns_o.jpg"}],swatches:[["#5c95c4","#fc5185"],["#824c96","#107a8b"],["#facf5a","#000"],["#fd0054"],["#f96d00"]]}),computed:{color:{get(){return window._setting("theme")},set(t){this.setPrimaryColor(t)}}},watch:{"setting.bg":t=>window._setting("headerBgSource",t)},methods:{setBg(t){this.setting.bg=t,this.axios({method:"post",url:_setting("server")+"/setting/",data:{n:{headerBgSource:t}}})},setBgHeight(t){switch(t){case"full":window._CSSsetting("--pokabgheight","calc( 100vh - 69px - 64px )");break;case"none":window._CSSsetting("--pokabgheight","0px");break;default:window._CSSsetting("--pokabgheight","400px");break}let e=window._setting("cssVariable");this.axios({method:"post",url:_setting("server")+"/setting/",data:{n:{cssVariable:e}}})},bg_prompt_cancel(){this.bg_prompt_active=!1,this.bg_prompt_textbox=window._setting("headerBgSource")},bg_prompt_ok(){this.bg_prompt_active=!1,this.setBg(this.bg_prompt_textbox)},setPrimaryColor(t){this.$vuetify.theme.themes.dark.primary=t,this.$vuetify.theme.themes.light.primary=t,window._setting("theme",t);let e=window._setting("theme");this.axios({method:"post",url:_setting("server")+"/setting/",data:{n:{theme:e}}})},setLang(t){window.i18n.locale=t,this.currentLang=t,window._setting("lang",t),this.lang_dialog=!1,this.axios({method:"post",url:_setting("server")+"/setting/",data:{n:{lang:t}}})},setLyricTheme(t){window._setting("lyricTheme",t),this.lyric_theme_dialog=!1,this.axios({method:"post",url:_setting("server")+"/setting/",data:{n:{lyricTheme:t}}})},changeStyle(t){let e="card"==this.view[t]?"list":"card",a=t+"View";_setting(a,e),this.view[t]=e;let s={};s[a]=e,this.axios({method:"post",url:_setting("server")+"/setting/",data:{n:s}})}}},Oa=Ea,Ma=a("03a4"),Ba=a("e0c7"),za=Object(g["a"])(Oa,Na,Ra,!1,null,null,null),Fa=za.exports;v()(za,{VAvatar:Aa["a"],VBtn:V["a"],VCard:de["a"],VCardActions:pe["a"],VCardText:pe["b"],VCardTitle:pe["c"],VColorPicker:Ma["a"],VDialog:ue["a"],VIcon:U["a"],VSpacer:M["a"],VSubheader:Ba["a"],VTextField:ve["a"]}),ea()(za,{Ripple:aa["a"]});var ja=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("poka-header",{attrs:{title:t.$t("settings_systemAndUpdate")}}),a("div",{staticClass:"poka list"},[a("v-subheader",[t._v("移轉")]),a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item",on:{click:t.migratePlaylist}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"42px",item:""}},[a("v-icon",[t._v("queue_music")])],1),t._m(0)],1)]),a("v-subheader",[t._v(t._s(t.$t("settings_system")))]),a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item",on:{click:function(e){t.restartConfirmActive=!0}}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"42px",item:""}},[a("v-icon",[t._v("autorenew")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(t.$t("settings_restart")))])])],1)]),a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item",on:{click:t.openUpdateDialog}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"42px",item:""}},[a("v-icon",[t._v("system_update")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(t.$t("settings_update")))]),a("div",{staticClass:"t-ellipsis"},[t._v("\n\t\t\t\t\t\t"+t._s(t.checkUpadteStatus)+"\n\t\t\t\t\t\t"),t.poka_debug?a("span",[t._v("(debug: "+t._s(t.poka_debug)+")")]):t._e()])])],1)])],1),a("v-dialog",{attrs:{"max-width":"420"},model:{value:t.restartConfirmActive,callback:function(e){t.restartConfirmActive=e},expression:"restartConfirmActive"}},[a("v-card",[a("v-img",{staticClass:"poka-logo-banner",attrs:{src:"/img/loginHeader.svg",height:"170px"}}),a("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("settings_restartDialog_title")))]),a("v-card-text",{staticStyle:{"padding-bottom":"0"}},[a("p",[t._v(t._s(t.$t("settings_updateDialog_note")))])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(e){t.restartConfirmActive=!1}}},[t._v(t._s(t.$t("cancel")))]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.restartConfirmActive=!1,t.restart()}}},[t._v(t._s(t.$t("ok")))])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"420"},model:{value:t.showUpdateDialog,callback:function(e){t.showUpdateDialog=e},expression:"showUpdateDialog"}},[a("v-card",[a("v-img",{staticClass:"poka-logo-banner",attrs:{src:"/img/loginHeader.svg",height:"170px"}}),a("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("settings_updateDialog_title",{version:this.newVersion.tag})))]),a("v-card-text",{staticStyle:{"padding-bottom":"0"}},[a("p",{staticClass:"changelog",domProps:{innerHTML:t._s(t.newVersion.body)}}),a("p",[t._v(t._s(t.$t("settings_updateDialog_note")))])]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(e){t.showUpdateDialog=!1}}},[t._v(t._s(t.$t("cancel")))]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.showUpdateDialog=!1,t.update()}}},[t._v(t._s(t.$t("settings_update")))])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"280"},model:{value:t.showUpdateingDialog,callback:function(e){t.showUpdateingDialog=e},expression:"showUpdateingDialog"}},[a("v-card",[a("v-img",{staticClass:"poka-logo-banner",attrs:{src:"/img/loginHeader.svg",height:"170px"}}),a("v-card-text",{staticStyle:{padding:"0"}},[a("pre",{staticClass:"log"},[t._v(t._s(t.updateLog))]),a("v-progress-linear",{attrs:{indeterminate:"",color:"primary"}})],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"280"},model:{value:t.showRestartingDialog,callback:function(e){t.showRestartingDialog=e},expression:"showRestartingDialog"}},[a("v-card",[a("v-img",{staticClass:"poka-logo-banner",attrs:{src:"/img/loginHeader.svg",height:"170px"}}),a("p",{staticClass:"headline text-center font-weight-bold"},[t._v(t._s(t.$t("settings_restarting")))]),a("poka-loader"),a("br")],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"280"},model:{value:t.showRestartCompletedDialog,callback:function(e){t.showRestartCompletedDialog=e},expression:"showRestartCompletedDialog"}},[a("v-card",[a("v-img",{staticClass:"poka-logo-banner",attrs:{src:"/img/loginHeader.svg",height:"170px"}}),a("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("settings_restart_completed")))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:t.reload}},[t._v(t._s(t.$t("settings_update_reconnect")))])],1)],1)],1)],1)},Ha=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v("資料庫升級")]),a("div",{staticClass:"t-ellipsis"},[t._v("將所有播放清單之所有權移轉至您名下")])])}],Qa={name:"SettingSystem",data:()=>({checkUpadteStatus:i18n.t("settings_update_checking4updates"),restartConfirmActive:!1,showUpdateDialog:!1,showUpdateingDialog:!1,showRestartingDialog:!1,showRestartCompletedDialog:!1,updateLog:"",poka_version:null,poka_debug:null,newVersion:{prerelease:null,tag:null,body:"Loading..."}}),created(){this.axios.get(_setting("server")+"/status/").then(t=>{this.poka_version=t.data.version,this.poka_debug="false"!=t.data.debug?t.data.debug:null,this.fetchNewVersion()})},methods:{openUpdateDialog(){(this.poka_debug||this.newVersion.tag)&&(this.showUpdateDialog=!0)},fetchNewVersion(){fetch("https://api.github.com/repos/ssunbob/PokaPlayer/releases").then(t=>t.json()).then(t=>{this.newVersion.body=(new showdown.Converter).makeHtml(t[0].body),this.compareVersion(this.poka_version,t[0].tag_name)?(this.newVersion.prerelease=t[0].prerelease,this.newVersion.tag=t[0].tag_name,this.checkUpadteStatus=i18n.t("settings_update_update2",{version:this.newVersion.tag}),this.$route.query.update&&(this.showUpdateDialog=!0)):this.checkUpadteStatus=i18n.t("settings_update_latestVersion")}).catch(t=>console.error(t))},update(){window._player.pause(),this.axios.get("/upgrade").then(t=>{this.showUpdateingDialog=!0,this.updateLog+=window.i18n.t("settings_update_update2",{version:this.newVersion.tag})+"\n","upgrade"==t.data?setTimeout(()=>{alert("更新完成！"),location.reload()},3e4):"socket"==t.data&&(_socket.emit("login",{username:window._setting("username"),password:window._setting("password")}),_socket.emit("update"),window._socket.on("Permission Denied Desu",()=>{this.showUpdateingDialog=!1,alert("Permission Denied")}),window._socket.on("init",()=>{this.updateLog+=window.i18n.t("settings_update_initializing")+"\n"}),window._socket.on("git",t=>{this.updateLog+={fetch:window.i18n.t("settings_update_git_fetch"),reset:window.i18n.t("settings_update_git_reset"),api:window.i18n.t("settings_update_git_api")}[t]+"\n"}),window._socket.on("restart",()=>{this.updateLog+=window.i18n.t("settings_restarting")+"...\n"}),window._socket.on("hello",()=>{this.showUpdateingDialog=!1,this.showRestartCompletedDialog=!0}),window._socket.on("err",async t=>{const e=t=>new Promise(e=>{setTimeout(e,t)});this.updateLog+="[ERROR] "+t,await e(1e3),this.showUpdateingDialog=!1}))})},restart(){window._player.pause(),this.showRestartingDialog=!0,this.axios.post("/restart"),window._socket.on("hello",()=>{this.showRestartingDialog=!1,this.showRestartCompletedDialog=!0})},reload(){window.location.reload()},compareVersion(t,e){return t=t.split(".").map(t=>parseInt(t)),e=e.split(".").map(t=>parseInt(t)),t=1e3*t[0]*1e3+1e3*t[1]+t[2],e=1e3*e[0]*1e3+1e3*e[1]+e[2],e>t},migratePlaylist(){confirm("這項動作無法被復原，請確定您移轉到正確的帳號！")?this.axios.post(_setting("server")+"/pokaapi/v2/playlist/migrate").then(t=>{t.data.success?this.$snackbar("轉移成功"):this.$snackbar("轉移失敗，可能是您的權限不足所致")}):this.$snackbar("轉移已取消")}}},qa=Qa,Ga=(a("0625"),a("2853"),a("adda")),Ya=Object(g["a"])(qa,ja,Ha,!1,null,"528a74b9",null),Ja=Ya.exports;v()(Ya,{VAvatar:Aa["a"],VBtn:V["a"],VCard:de["a"],VCardActions:pe["a"],VCardText:pe["b"],VCardTitle:pe["c"],VDialog:ue["a"],VDivider:D["a"],VIcon:U["a"],VImg:Ga["a"],VProgressLinear:O["a"],VSpacer:M["a"],VSubheader:Ba["a"]}),ea()(Ya,{Ripple:aa["a"]});var Wa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("poka-header",{attrs:{title:t.$t("settingUser.title")}}),a("div",{staticClass:"poka list"},[t.userdata?a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item",on:{click:t.copyID}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"42px",item:""}},[a("v-icon",[t._v("mdi-account-key")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v("ID")]),a("div",{staticClass:"t-ellipsis"},[t._v(t._s(t.userdata._id))])])],1)]):t._e(),t.userdata?a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item",on:{click:function(e){t.temp.changeNamePrompt=!0}}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"42px",item:""}},[a("v-icon",[t._v("person")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(t.$t("settingUser.name")))]),a("div",{staticClass:"t-ellipsis"},[t._v(t._s(t.userdata.name))])])],1)]):t._e(),t.userdata?a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item",on:{click:function(e){t.temp.changeUsernamePrompt=!0}}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"42px",item:""}},[a("v-icon",[t._v("alternate_email")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(t.$t("settingUser.username")))]),a("div",{staticClass:"t-ellipsis"},[t._v(t._s(t.userdata.username))])])],1)]):t._e(),t.userdata?a("div",{staticClass:"item"},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"42px",item:""}},[a("v-icon",[t._v("settings")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(t.$t("settingUser.role")))]),a("div",{staticClass:"t-ellipsis"},[t._v(t._s(t.userdata.role))])])],1)]):t._e(),t.userdata?a("div",{staticClass:"item",on:{click:function(e){t.temp.changePasswordDialog=!0}}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"42px",item:""}},[a("v-icon",[t._v("lock")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(t.$t("settingUser.password")))]),a("div",{staticClass:"t-ellipsis"},[t._v(t._s(t.$t("settingUser.passwordDescription")))])])],1)]):t._e(),t.userdata?a("div",{staticClass:"item",on:{click:t.logout}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"42px",item:""}},[a("v-icon",[t._v("exit_to_app")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(t.$t("settings_logout")))])])],1)]):t._e()]),t.userdata?t._e():a("poka-loader"),a("v-dialog",{attrs:{"max-width":"300"},model:{value:t.temp.changeNamePrompt,callback:function(e){t.$set(t.temp,"changeNamePrompt",e)},expression:"temp.changeNamePrompt"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("settingUser.changeName.title")))]),a("v-card-text",{staticStyle:{"padding-bottom":"0"}},[a("v-text-field",{attrs:{label:t.$t("settingUser.changeName.placeholder"),filled:""},model:{value:t.temp.changeNameValue,callback:function(e){t.$set(t.temp,"changeNameValue","string"===typeof e?e.trim():e)},expression:"temp.changeNameValue"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(e){t.temp.changeNamePrompt=!1}}},[t._v(t._s(t.$t("cancel")))]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.temp.changeNamePrompt=!1,t.changeName()}}},[t._v(t._s(t.$t("done")))])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300"},model:{value:t.temp.changeUsernamePrompt,callback:function(e){t.$set(t.temp,"changeUsernamePrompt",e)},expression:"temp.changeUsernamePrompt"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("settingUser.changeName.title")))]),a("v-card-text",{staticStyle:{"padding-bottom":"0"}},[a("v-text-field",{attrs:{label:t.$t("settingUser.changeUsername.placeholder"),filled:""},model:{value:t.temp.changeUsernameValue,callback:function(e){t.$set(t.temp,"changeUsernameValue","string"===typeof e?e.trim():e)},expression:"temp.changeUsernameValue"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(e){t.temp.changeUsernamePrompt=!1}}},[t._v(t._s(t.$t("cancel")))]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.temp.changeUsernamePrompt=!1,t.changeUsername()}}},[t._v(t._s(t.$t("done")))])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300"},model:{value:t.temp.changePasswordDialog,callback:function(e){t.$set(t.temp,"changePasswordDialog",e)},expression:"temp.changePasswordDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("settingUser.changePassword.title")))]),a("v-card-text",[a("v-text-field",{attrs:{label:t.$t("settingUser.changePassword.oldPassword"),outlined:""},model:{value:t.temp.changePasswordold,callback:function(e){t.$set(t.temp,"changePasswordold",e)},expression:"temp.changePasswordold"}}),a("v-text-field",{attrs:{label:t.$t("settingUser.changePassword.newPassword"),outlined:""},model:{value:t.temp.changePassword,callback:function(e){t.$set(t.temp,"changePassword",e)},expression:"temp.changePassword"}}),a("v-text-field",{attrs:{label:t.$t("settingUser.changePassword.confirmPassword"),hint:t.$t("settingUser.changePassword.confirmPasswordHelperText"),outlined:""},model:{value:t.temp.changePassword2,callback:function(e){t.$set(t.temp,"changePassword2",e)},expression:"temp.changePassword2"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(e){t.temp.changePasswordDialog=!1}}},[t._v(t._s(t.$t("cancel")))]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.changePassword()}}},[t._v(t._s(t.$t("settingUser.changePassword.done")))])],1)],1)],1)],1)},Ka=[],Xa={name:"SettingUser",data:()=>({userdata:null,temp:{changeNamePrompt:!1,changeNameValue:"",changeUsernamePrompt:!1,changeUsernameValue:"",changePasswordDialog:!1,changePassword:"",changePassword2:"",changePasswordold:""}}),created(){this.axios.get(_setting("server")+"/profile/").then(t=>{this.userdata=t.data})},methods:{copyID(){navigator.clipboard.writeText(this.userdata._id).then(()=>{this.$snackbar(i18n.t("copy.success"))},()=>{this.$snackbar(i18n.t("copy.failed"))})},changeName(){if(""==this.temp.changeNameValue||!this.temp.changeNameValue)return this.$snackbar(window.i18n.t("settingUser.changeName.result.error"));this.axios.post(_setting("server")+"/changeName/",{n:this.temp.changeNameValue}).then(t=>{t.data.success?(this.userdata.name=this.temp.changeNameValue,this.$snackbar(window.i18n.t("settingUser.changeName.result.success",{name:this.temp.changeNameValue}))):this.$snackbar(window.i18n.t("settingUser.changeName.result.error"))})},changeUsername(){if(""==this.temp.changeUsernameValue||!this.temp.changeUsernameValue)return this.$snackbar(window.i18n.t("settingUser.changeUsername.result.error"));this.axios.post(_setting("server")+"/changeUsername/",{n:this.temp.changeUsernameValue}).then(t=>{t.data.success?(this.userdata.username=this.temp.changeUsernameValue,this.$snackbar(window.i18n.t("settingUser.changeUsername.result.success",{name:this.temp.changeUsernameValue}))):t.data.error?this.$snackbar(t.data.error):this.$snackbar(window.i18n.t("settingUser.changeUsername.result.error"))})},changePassword(){return""!=this.temp.changePassword&&this.temp.changePassword&&""!=this.temp.changePassword2&&this.temp.changePassword2&&""!=this.temp.changePasswordold&&this.temp.changePasswordold?this.temp.changePassword!==this.temp.changePassword2?this.$snackbar(window.i18n.t("settingUser.changePassword.result.inconsistent")):this.temp.changePassword===this.temp.changePasswordold?this.$snackbar(window.i18n.t("settingUser.changePassword.result.same")):void this.axios.post(_setting("server")+"/changePassword/",{oldpassword:this.temp.changePasswordold,password:this.temp.changePassword}).then(t=>{t.data.success?(this.$snackbar(window.i18n.t("settingUser.changePassword.result.success")),this.temp.changePasswordDialog=!1):t.data.error?this.$snackbar(t.data.error):this.$snackbar(window.i18n.t("settingUser.changePassword.result.error"))}):this.$snackbar(window.i18n.t("settingUser.changePassword.result.error"))},logout(){sessionStorage.removeItem("login"),_player.pause(),this.axios(_setting("server")+"/logout").then(t=>this.$router.push("/login"))}}},Za=Xa,ts=Object(g["a"])(Za,Wa,Ka,!1,null,null,null),es=ts.exports;v()(ts,{VAvatar:Aa["a"],VBtn:V["a"],VCard:de["a"],VCardActions:pe["a"],VCardText:pe["b"],VCardTitle:pe["c"],VDialog:ue["a"],VIcon:U["a"],VSpacer:M["a"],VTextField:ve["a"]}),ea()(ts,{Ripple:aa["a"]});var as=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("poka-header",{attrs:{title:t.$t("settingPins.title")}}),t.pins?a("div",{staticClass:"poka list"},t._l(t.pins,(function(e){return a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:e._id,staticClass:"item",on:{click:function(a){return t.unPin(e)}}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"42px",item:""}},[a("v-img",{attrs:{src:e.cover,alt:"John"}})],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v("\n\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t"),a("span",{staticStyle:{"font-size":".7em",opacity:".7","font-weight":"normal"}},[t._v(t._s(t.$t("source."+e.source)))])]),a("div",{staticClass:"t-ellipsis"},[t._v(t._s(t.$t(e.type)))])]),a("div",{staticClass:"action"},[a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("mdi-delete")])],1)],1)],1)])})),0):t._e()],1)},ss=[],is={name:"SettingPins",data:()=>({pins:null}),created(){this.getPins()},methods:{async getPins(){this.axios.post(_setting("server")+"/pokaapi/v2/pin/pins").then(t=>{this.pins=t.data.map(t=>(t.cover.startsWith("http")||(t.cover=_setting("server")+t.cover),t))})},async unPin(t){confirm(i18n.t("settingPins.deleteConfirm"))&&this.axios.post("/pokaapi/v2/pin/unpin",t).then(t=>{this.getPins()})}}},rs=is,ns=Object(g["a"])(rs,as,ss,!1,null,null,null),os=ns.exports;v()(ns,{VAvatar:Aa["a"],VBtn:V["a"],VIcon:U["a"],VImg:Ga["a"]}),ea()(ns,{Ripple:aa["a"]});var ls=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("poka-header",{attrs:{title:t.$t("settingPravicy.title")}}),t._m(0),a("div",{staticClass:"poka list"},[a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item"},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"24px",item:""}},[a("v-icon",[t._v("security")])],1),t._m(1)],1)]),a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item"},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"24px",item:""}},[a("v-icon",[t._v("clear")])],1),t._m(2)],1)])])],1)},cs=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"poka-notify"},[a("h1",[t._v("關於 PokaPlayer 資料記錄")]),a("p",{staticStyle:{"margin-bottom":"0"}},[t._v("資料紀錄功能僅會將您的資料於本地伺服器運算，並提供您更優質的使用體驗，並不會被上傳至網路進行分析。")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v("資料記錄")]),a("div",{staticClass:"t-ellipsis"},[t._v("啟用")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v("清除目前紀錄資料")]),a("div",{staticClass:"t-ellipsis"},[t._v("目前已紀錄約 1000 筆資料")])])}],ds={name:"SettingPravicy",data:()=>({}),created(){},methods:{}},ps=ds,us=Object(g["a"])(ps,ls,cs,!1,null,null,null),ms=us.exports;v()(us,{VAvatar:Aa["a"],VIcon:U["a"]}),ea()(us,{Ripple:aa["a"]});var gs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("poka-header",{attrs:{title:t.$t("settingUserManagement.title")}}),t.users?t._e():a("poka-loader"),a("v-slide-y-reverse-transition",[t.users?a("div",{staticClass:"poka list"},t._l(t.users,(function(e){return a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:e._id,staticClass:"item",on:{click:function(a){return t.openUserDialog(e)}}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"24px",item:""}},[a("v-icon",[t._v("mdi-account")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(e.username))]),a("div",{staticClass:"t-ellipsis"},[t._v(t._s(t.$t("settingUserManagement.role."+e.role)))])])],1)])})),0):t._e()]),a("v-dialog",{attrs:{"max-width":"300"},model:{value:t.userDialog,callback:function(e){t.userDialog=e},expression:"userDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("settingUserManagement.dialog.edit")))]),a("v-card-text",[a("div",{staticClass:"poka list"},[a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item"},[a("div",{staticClass:"content"},[a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(t.$t("settingUserManagement.field.name")))]),a("div",{staticClass:"t-ellipsis"},[t._v(t._s(t.userTemp.name))])])])]),a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item"},[a("div",{staticClass:"content"},[a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(t.$t("settingUserManagement.field.username")))]),a("div",{staticClass:"t-ellipsis"},[t._v(t._s(t.userTemp.username))])])])]),a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item"},[a("div",{staticClass:"content"},[a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(t.$t("settingUserManagement.field.role")))]),a("div",{staticClass:"t-ellipsis"},[t._v(t._s(t.userTemp.role))])])])]),a("v-divider",{staticStyle:{margin:"4px 0"}}),a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item",on:{click:t.changePassword}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"28px",item:""}},[a("v-icon",[t._v("mdi-lock")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(t.$t("settingUserManagement.dialog.changePassword")))])])],1)]),a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item",on:{click:t.deleteUser}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"28px",item:""}},[a("v-icon",[t._v("mdi-delete")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(t.$t("settingUserManagement.dialog.deleteUser")))])])],1)])],1)]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.userDialog=!1}}},[t._v(t._s(t.$t("back")))])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300"},model:{value:t.createUserDialog,callback:function(e){t.createUserDialog=e},expression:"createUserDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("settingUserManagement.dialog.create")))]),a("v-card-text",[a("v-text-field",{attrs:{label:t.$t("settingUserManagement.field.name"),outlined:""},model:{value:t.userTemp.name,callback:function(e){t.$set(t.userTemp,"name",e)},expression:"userTemp.name"}}),a("v-text-field",{attrs:{label:t.$t("settingUserManagement.field.username"),outlined:""},model:{value:t.userTemp.username,callback:function(e){t.$set(t.userTemp,"username",e)},expression:"userTemp.username"}}),a("v-text-field",{attrs:{label:t.$t("settingUserManagement.field.password"),outlined:""},model:{value:t.userTemp.password,callback:function(e){t.$set(t.userTemp,"password",e)},expression:"userTemp.password"}}),a("v-select",{attrs:{label:t.$t("settingUserManagement.field.role"),items:["admin","user"],outlined:""},model:{value:t.userTemp.role,callback:function(e){t.$set(t.userTemp,"role",e)},expression:"userTemp.role"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.createUserDialog=!1}}},[t._v(t._s(t.$t("back")))]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:t.createUser}},[t._v(t._s(t.$t("settingUserManagement.dialog.createBtn")))])],1)],1)],1),t.createUserDialog?t._e():a("v-fab-transition",[a("v-btn",{attrs:{color:"primary",fab:"",large:"",dark:"",bottom:"",right:"",fixed:""},on:{click:t.openCreateUserDialog}},[a("v-icon",[t._v("mdi-account-plus")])],1)],1)],1)},_s=[],vs={name:"SettingAdminUser",data:()=>({users:null,userDialog:!1,createUserDialog:!1,userTemp:{_id:-1,role:null,settings:null,name:null,username:null,password:null,createTime:null}}),created(){this.fetchUsers()},methods:{fetchUsers(){this.axios.get(_setting("server")+"/pokaapi/v2/users/list").then(t=>{this.users=t.data}).catch(t=>{this.$snackbar(t),this.users=[]})},openUserDialog(t){this.userTemp=this.$deepCopy(t),this.userDialog=!0},openCreateUserDialog(){this.userTemp=this.$deepCopy({_id:-1,role:null,settings:null,name:null,username:null,password:null,createTime:null}),this.createUserDialog=!0},async createUser(){let{name:t,username:e,password:a,role:s}=this.userTemp,i=await this.axios.post(_setting("server")+"/pokaapi/v2/users/create",{name:t,username:e,password:a,role:s});i.data.success?(this.$snackbar(i18n.t("settingUserManagement.dialog.userCreated")),this.createUserDialog=!1,this.fetchUsers()):"username already taken"==i.data.error?this.$snackbar(i18n.t("settingUserManagement.dialog.userCreateUsernameRepeat")):this.$snackbar(i18n.t("settingUserManagement.dialog.userCreateFailed"))},async changePassword(){let t=prompt(i18n.t("settingUserManagement.dialog.enterPassword"));t&&(await this.axios.post(_setting("server")+"/pokaapi/v2/users/change-password",{_id:this.userTemp._id,password:t}).catch(t=>{this.$snackbar(i18n.t("settingUserManagement.dialog.changePasswordFailed"))}),this.$snackbar(i18n.t("settingUserManagement.dialog.changePasswordSuccess")))},async deleteUser(){confirm(`Are you sure want to delete "${this.userTemp.name}"?`)&&(await this.axios.post(_setting("server")+"/pokaapi/v2/users/delete",{_id:this.userTemp._id}).catch(t=>{this.$snackbar(i18n.t("settingUserManagement.dialog.deleteUserFailed"))}),this.userDialog=!1,this.fetchUsers())}}},hs=vs,ys=Object(g["a"])(hs,gs,_s,!1,null,null,null),fs=ys.exports;v()(ys,{VAvatar:Aa["a"],VBtn:V["a"],VCard:de["a"],VCardActions:pe["a"],VCardText:pe["b"],VCardTitle:pe["c"],VDialog:ue["a"],VDivider:D["a"],VFabTransition:rt["c"],VIcon:U["a"],VSelect:_e["a"],VSlideYReverseTransition:rt["g"],VSpacer:M["a"],VTextField:ve["a"]}),ea()(ys,{Ripple:aa["a"]}),c["a"].use(k["a"]);var ws=new k["a"]({mode:"history",routes:[{path:"/",name:"root",component:F,redirect:"/home",children:[{path:"/lyric",name:"Lyric",component:ia},{path:"/lyric/edit",name:"LyricEdit",component:pa,meta:{transitionName:"slide"}},{path:"/album/songs/:source/:id",name:"AlbumSongs",component:mt,meta:{transitionName:"slide"}},{path:"/album",name:"Album",component:ot},{path:"/artist/:source/:id",name:"ArtistAlbum",component:St,meta:{transitionName:"slide"}},{path:"/artist",name:"Artist",component:ft},{path:"/composer/:source/:id",name:"ComposerAlbum",component:Et,meta:{transitionName:"slide"}},{path:"/composer",name:"Composer",component:Tt},{path:"/folder/:source/:id",name:"folderFiles",component:Zt,meta:{transitionName:"slide",root:!1}},{path:"/folder",name:"Folder",component:Zt,meta:{root:!0}},{path:"/now",name:"NowPlaying",component:Se},{path:"/playlist/f/*",name:"PlaylistFolder",component:Ee,meta:{transitionName:"slide"}},{path:"/playlist/p/:source/:id",component:je,name:"PlaylistSongs",meta:{transitionName:"slide"}},{path:"/playlist",name:"Playlist",component:Ee},{path:"/search",name:"Search",component:ka},{path:"/home",name:"Home",component:re},{path:"/shuffle",name:"Shuffle",component:Je},{path:"/notfound",name:"Notfound",component:Te},{path:"/debug",name:"Debug",component:Gt},{path:"",redirect:"/home"}]},{path:"/",name:"empty",component:Y,children:[{path:"/login",name:"Login",component:fe}]},{path:"/",name:"setting",component:tt,children:[{path:"/setting",name:"Setting",component:Pa},{path:"/settings/interface",name:"SettingInterface",component:Fa},{path:"/settings/network",name:"SettingNetwork",component:La},{path:"/settings/system",name:"SettingSystem",component:Ja},{path:"/settings/user",name:"SettingUser",component:es},{path:"/settings/pins",name:"SettingPins",component:os},{path:"/settings/privacy",name:"SettingPrivacy",component:ms},{path:"/settings/admin/users",name:"SettingAdminUsers",component:fs}]},{path:"*",redirect:"/notfound"}]}),ks=a("a925");let bs={zh_CN:a("cf61").default,zh_TW:a("7789").default,en_US:a("658e").default};c["a"].use(ks["a"]);const xs=window._setting("lang"),Cs=bs,Ss=new ks["a"]({locale:xs,fallbackLocale:"en_US",messages:Cs,missing:(t,e,a)=>e});window.i18n=Ss;var $s=Ss,Ps=a("2f62");c["a"].use(Ps["a"]);var Vs=new Ps["a"].Store({state:{},mutations:{},actions:{}}),Ds=a("9483");Object(Ds["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var Us=a("a7fe"),Ts=a.n(Us),As=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"mx-auto",staticStyle:{"border-radius":"8px",overflow:"hidden"},attrs:{width:"350"}},[a("v-img",{staticClass:"poka-logo-banner",attrs:{src:"/img/loginHeader.svg",height:"170px"}}),a("v-card-text",{staticStyle:{padding:"0"}},[a("v-list",{attrs:{subheader:""}},[a("v-list-item",[a("v-list-item-avatar",[a("v-icon",[t._v("info")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("PokaPlayer")]),a("v-list-item-subtitle",[t._v(t._s(t.poka_version))])],1)],1),a("v-divider"),a("v-list-item",{attrs:{href:"https://github.com/gnehs/PokaPlayer/",target:"_blank"}},[a("v-list-item-avatar",[a("v-icon",[t._v("mdi-github")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("GitHub")])],1)],1),a("v-list-item",{attrs:{href:"https://github.com/gnehs/PokaPlayer/graphs/contributors",target:"_blank"}},[a("v-list-item-avatar",[a("v-icon",[t._v("group")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("settings_about_contributions")))])],1)],1),a("v-list-item",{attrs:{href:"https://github.com/gnehs/PokaPlayer/issues",target:"_blank"}},[a("v-list-item-avatar",[a("v-icon",[t._v("error")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("settings_about_errorEeport")))])],1)],1)],1)],1)],1)},Is=[],Ls={name:"poka-about",data:()=>({poka_version:"Loading..."}),created(){this.axios.get(_setting("server")+"/status/").then(t=>{t.data.version||this.$router.push("/login"),this.poka_version=t.data.version})}},Ns=Ls,Rs=a("8270"),Es=Object(g["a"])(Ns,As,Is,!1,null,null,null),Os=Es.exports;v()(Es,{VCard:de["a"],VCardText:pe["b"],VDivider:D["a"],VIcon:U["a"],VImg:Ga["a"],VList:T["a"],VListItem:A["a"],VListItemAvatar:Rs["a"],VListItemContent:L["a"],VListItemSubtitle:L["b"],VListItemTitle:L["c"]});var Ms=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{position:"sticky",top:"15px"}},[a("div",{staticClass:"header-wrapper"},[a("div",{staticClass:"bg",class:{blur:t.blurbg},style:Object.assign({backgroundImage:'url("'+t.bg+'")'},t.bgStyle)})]),t.title?a("div",{staticClass:"hw-header",style:t.headerStyle},[a("div",{staticClass:"hw-title",staticStyle:{"line-height":"normal"}},[t._v(t._s(t.title))]),a("div",{staticClass:"hw-subtitle"},[t._v(t._s(t.subtitle))])]):t._e()])},Bs=[],zs={name:"poka-header",data:()=>({headerStyle:{opacity:1,transform:""},bgStyle:{transform:""}}),props:{title:String,subtitle:String,bg:{type:String,default:_setting("headerBgSource")},blurbg:{type:Boolean,default:!1}},methods:{handleScroll(t){if(document.querySelector("main")){let t=document.querySelector("main").scrollTop,e=document.querySelector("main").scrollHeight,a=40;this.headerStyle.opacity=t>a?0:1,this.headerStyle.transform=`translate(0,-${t>a?20:t/a*20}px)`,this.bgStyle.transform=`scale(1.12) translate(0,-${t/e*50}px)`}}},mounted(){this.handleScroll(),document.querySelector("main")&&document.querySelector("main").addEventListener("scroll",this.handleScroll)},created(){this.handleScroll(),document.querySelector("main")&&document.querySelector("main").addEventListener("scroll",this.handleScroll)},destroyed(){document.querySelector("main")&&document.querySelector("main").removeEventListener("scroll",this.handleScroll)}},Fs=zs,js=(a("6f9c"),Object(g["a"])(Fs,Ms,Bs,!1,null,null,null)),Hs=js.exports,Qs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"info-header"},[a("div",{staticClass:"cover",style:"background-image: url('"+t.cover+"')"}),a("div",{staticClass:"info-data"},[a("div",{staticClass:"album-name",attrs:{title:t.title}},[t._v(t._s(t.title))]),a("div",{staticClass:"artist-name",attrs:{title:t.subtitle}},[t._v(t._s(t.subtitle))]),a("div",{staticClass:"grow"}),a("div",{staticClass:"footer"},[t.songs?a("div",{staticClass:"time"},[t._v(t._s(t.$t("album_total",{songs:t.songs})))]):t._e(),a("div",{staticClass:"actions"},[t._t("default")],2)])])])},qs=[],Gs={name:"info-header",props:{cover:String,title:String,subtitle:String,songs:{default:0}},data:()=>({}),created(){}},Ys=Gs,Js=(a("e72a"),Object(g["a"])(Ys,Qs,qs,!1,null,"43d7e53a",null)),Ws=Js.exports,Ks=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.to?a("router-link",{staticClass:"card",attrs:{to:t.to,"data-source":t.parsed_source||void 0}},[t.parsed_pokaBg?a("div",{staticClass:"image"},[a("v-img",{attrs:{src:t.parsed_pokaBg,"aspect-ratio":"1"}})],1):a("div",{staticClass:"image"},[a("v-icon",{staticClass:"material-icons-outlined"},[t._v(t._s(t.pokaIcon))])],1),a("div",{staticClass:"title",class:{"t-ellipsis":t.ellipsis}},[t._v(t._s(t.pokaTitle))]),a("div",{staticClass:"subtitle",class:{"t-ellipsis":t.ellipsis}},[t._v(t._s(t.pokaSubtitle))])]):a("a",{staticClass:"card",attrs:{"data-source":t.parsed_source||void 0}},[t.parsed_pokaBg?a("div",{staticClass:"image"},[a("v-img",{attrs:{src:t.parsed_pokaBg,"aspect-ratio":"1"}})],1):a("div",{staticClass:"image"},[a("v-icon",{staticClass:"material-icons-outlined"},[t._v(t._s(t.pokaIcon))])],1),a("div",{staticClass:"title",class:{"t-ellipsis":t.ellipsis}},[t._v(t._s(t.pokaTitle))]),a("div",{staticClass:"subtitle",class:{"t-ellipsis":t.ellipsis}},[t._v(t._s(t.pokaSubtitle))])])},Xs=[],Zs={name:"poka-card",props:{pokaBg:{default:null},ellipsis:{default:!0},source:{default:""},pokaTitle:String,pokaSubtitle:String,to:String,pokaIcon:{default:"playlist_play",type:String}},data:()=>({parsed_source:null,parsed_pokaBg:null}),created(){"Netease2"==this.source?this.parsed_source=i18n.t("moduleShowName_Netease"):"DSM"==this.source?this.parsed_source=i18n.t("moduleShowName_DSM"):this.parsed_source=this.source,"string"===typeof this.pokaBg&&this.pokaBg.startsWith("http")?this.parsed_pokaBg=this.pokaBg:this.pokaBg&&(this.parsed_pokaBg=_setting("server")+this.pokaBg)}},ti=Zs,ei=Object(g["a"])(ti,Ks,Xs,!1,null,null,null),ai=ei.exports;v()(ei,{VIcon:U["a"],VImg:Ga["a"]});var si=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"poka cards"},[t._t("default")],2)},ii=[],ri={name:"poka-cards"},ni=ri,oi=(a("a5da"),Object(g["a"])(ni,si,ii,!1,null,null,null)),li=oi.exports,ci=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)},di=[],pi={name:"poka-loader"},ui=pi,mi=(a("5211"),a("490a")),gi=Object(g["a"])(ui,ci,di,!1,null,"1036984c",null),_i=gi.exports;v()(gi,{VProgressCircular:mi["a"]});var vi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return null!=t.isPinned&&"disabled"!=t.isPinned&&"speed-dial"==t.btnType?a("v-fab-transition",[a("v-btn",{staticStyle:{bottom:"calc(16px + 69px)"},attrs:{color:"primary",fab:"",large:"",dark:"",bottom:"",right:"",fixed:"",loading:t.loading},on:{click:t.pin}},[t.isPinned?a("v-icon",[t._v("push_pin")]):a("v-icon",{staticClass:"material-icons-outlined"},[t._v("push_pin")])],1)],1):null!=t.isPinned&&"disabled"!=t.isPinned&&"icon-button"==t.btnType?a("v-btn",{staticClass:"v-pin-btn",attrs:{icon:"",loading:t.loading},on:{click:t.pin}},[t.isPinned?a("v-icon",[t._v("push_pin")]):a("v-icon",{staticClass:"material-icons-outlined"},[t._v("push_pin")])],1):t._e()},hi=[],yi={name:"pin-button",created(){this.getPinStatus()},props:{source:String,type:String,id:String,name:String,cover:String,artist:{type:String,default:""},btnType:{type:String,default:"speed-dial"}},data:()=>({server:_setting("server"),isPinned:null,loading:!1}),methods:{getPinStatus(){if(this.name){this.loading=!0;let[t,e,a]=[this.source,this.id,this.type];this.axios.post("/pokaapi/v2/pin/ispinned",{source:t,id:e,name:name,type:a}).then(t=>{this.isPinned=t.data,this.loading=!1})}},pin(){this.loading=!0;let[t,e,a,s,i,r]=[this.source,this.id,this.type,this.name,this.cover,this.artist];i=i.replace(_setting("server"),""),this.axios.post("/pokaapi/v2/pin/"+(this.isPinned?"unpin":"pin"),{source:t,id:e,type:a,name:s,cover:i,artist:r}).then(t=>{this.getPinStatus()})}}},fi=yi,wi=(a("ac6f"),Object(g["a"])(fi,vi,hi,!1,null,"a27dfb26",null)),ki=wi.exports;v()(wi,{VBtn:V["a"],VFabTransition:rt["c"],VIcon:U["a"]});var bi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-btn",{attrs:{outlined:"",color:"primary",disabled:t.loadingRandom},on:{click:t.randomPlay}},[t.loadingRandom?a("span",[t._v(t._s(t.$t("loading")))]):a("span",[t._v(t._s(t.$t("playlist_random")))])])},xi=[],Ci={name:"play-random-button",data:()=>({loadingRandom:!1}),methods:{randomPlay(){this.loadingRandom=!0;try{this.$randomPlay()}catch{this.loadingRandom=!1}}}},Si=Ci,$i=Object(g["a"])(Si,bi,xi,!1,null,null,null),Pi=$i.exports;v()($i,{VBtn:V["a"]});var Vi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.checkUpadteStatus?a("div",{key:"0",staticClass:"update-notify"},[a("h1",[t._v(t._s(t.$t("settings_update")))]),a("p",[t._v(t._s(t.checkUpadteStatus))]),a("v-btn",{attrs:{outlined:"",to:"/settings/system?update=true",color:"white",dark:""}},[t._v(t._s(t.$t("settings_update_go2UpdatePage")))])],1):t._e()},Di=[],Ui={name:"poka-update",created(){this.axios.get(_setting("server")+"/status/").then(t=>t.data).then(t=>{let e="admin"==JSON.parse(sessionStorage.getItem("login")).role||!1;t.debug&&(this.debug=t.debug),e&&this.fetchNewVersion(t.version,e)})},data:()=>({checkUpadteStatus:null,debug:null}),methods:{compareVersion(t,e){return t=t.split(".").map(t=>parseInt(t)),e=e.split(".").map(t=>parseInt(t)),t=1e3*t[0]*1e3+1e3*t[1]+t[2],e=1e3*e[0]*1e3+1e3*e[1]+e[2],e>t},checkEmpty(t){switch(typeof t){case"undefined":return!0;case"string":if(0==t.replace(/(^[ \t\n\r]*)|([ \t\n\r]*$)/g,"").length)return!0;break;case"boolean":if(!t)return!0;break;case"number":if(0===t||isNaN(t))return!0;break;case"object":if(null===t||0===t.length)return!0;for(var e in t)return!1;return!0}return!1},async fetchNewVersion(t,e){let a="poka-github-check-"+(new Date).toJSON().slice(0,10).replace(/-/g,"/"),s=JSON.parse(sessionStorage[a]||null);s||(s=await fetch("https://api.github.com/repos/ssunbob/PokaPlayer/releases").then(t=>t.json()).then(t=>(sessionStorage[a]=JSON.stringify(t),t)).catch(t=>console.error(t))),this.checkEmpty(s)||(this.compareVersion(t,s[0].tag_name)||this.debug)&&(this.checkUpadteStatus=i18n.t("settings_update_canUpdate2",{version:s[0].tag_name}),this.debug&&(this.checkUpadteStatus+=` (debug: ${this.debug})`))}}},Ti=Ui,Ai=(a("bea5"),Object(g["a"])(Ti,Vi,Di,!1,null,"56eb6102",null)),Ii=Ai.exports;v()(Ai,{VBtn:V["a"]});var Li=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("poka-cards",["PlaylistFolder"==t.$route.name?a("poka-card",{attrs:{"poka-icon":"arrow_back_ios",to:"/playlist/","poka-title":t.$t("back")}}):t._e(),t._l(t.data,(function(e,s){var i=e.name,r=(e.image,e.id),n=e.source,o=e.type;return"folder"==o?a("poka-card",{key:s,attrs:{"poka-icon":"folder",to:"/playlist/f/"+encodeURIComponent(r),"poka-title":i,"poka-subtitle":t.$t("source."+n),source:t.$t("source."+n)}}):t._e()})),t._l(t.data,(function(e,s){var i=e.name,r=e.image,n=e.id,o=e.source,l=e.type;return l&&"folder"==l?t._e():a("poka-card",{key:s,attrs:{"poka-icon":"queue_music",to:"/playlist/p/"+encodeURIComponent(o)+"/"+encodeURIComponent(n||"unknown"),"poka-bg":r||!1,"poka-title":i,"poka-subtitle":t.$t("source."+o),source:t.$t("source."+o)}})}))],2)},Ni=[],Ri={name:"poka-parse-playlists",props:["data"],data:()=>({server:_setting("server")})},Ei=Ri,Oi=Object(g["a"])(Ei,Li,Ni,!1,null,null,null),Mi=Oi.exports,Bi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("transition-group",{key:"songlist",staticClass:"poka list",class:{two:!t.nowPlaying},staticStyle:{position:"relative"},attrs:{name:"songlist",tag:"div"}},t._l(t.data,(function(e,s){return a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.nowPlaying?e.uuid:s,staticClass:"item",class:{active:s==t.activeIndex},staticStyle:{"user-select":"none"},on:{contextmenu:function(a){return a.preventDefault(),t.moreDialog(e)},click:function(e){t.nowPlaying?t.playSong(s):t.$addSongs({songs:t.data,index:s})}}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"42px",item:""}},[a("v-img",{attrs:{src:e.cover?e.cover.startsWith("http")?e.cover:t.server+e.cover:t.defaultCover,alt:"cover"}})],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(e.name))]),a("div",{staticClass:"t-ellipsis"},[t._v(t._s(e.artist))])])],1),a("div",{staticClass:"action"},[t._t("default",[a("v-btn",{attrs:{icon:""},on:{click:function(a){a.stopPropagation(),t.$addSongs({songs:[e],clear:!1}),t.isInSongList.push(s)}}},[t.isInSongList.includes(s)?a("v-icon",[t._v("done")]):a("v-icon",[t._v("add")])],1)],{index:s,song:e,moreDialog:t.moreDialog})],2)])})),0),a("v-dialog",{attrs:{"max-width":"400"},model:{value:t.moreDialogShow,callback:function(e){t.moreDialogShow=e},expression:"moreDialogShow"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("songAction_title")))]),a("v-card-text",[a("div",{staticClass:"poka list"},[a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item",on:{click:function(e){t.openPlaylistDialog(),t.moreDialogShow=!1}}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"24px",item:""}},[a("v-icon",{staticClass:"material-icons-outlined"},[t._v("playlist_add")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head"},[t._v(t._s(t.$t("songAction_add2playlist")))])])],1)]),a("v-divider"),t.moreDialogTemp?a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item"},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"24px",item:""}},[a("v-icon",{staticClass:"material-icons-outlined"},[t._v("music_note")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(t.moreDialogTemp.name))]),a("div",{staticClass:"t-ellipsis"},[t._v(t._s(t.$t("songAction_name")))])])],1)]):t._e(),t.moreDialogTemp?a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item",on:{click:t.moreDialog_goto_artist}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"24px",item:""}},[a("v-icon",{staticClass:"material-icons-outlined"},[t._v("mic_none")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(t.moreDialogTemp.artist))]),a("div",{staticClass:"t-ellipsis"},[t._v(t._s(t.$t("songAction_artist")))])])],1)]):t._e(),t.moreDialogTemp?a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item",on:{click:t.moreDialog_goto_album}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"24px",item:""}},[a("v-icon",{staticClass:"material-icons-outlined"},[t._v("album")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(t.moreDialogTemp.album))]),a("div",{staticClass:"t-ellipsis"},[t._v(t._s(t.$t("songAction_album")))])])],1)]):t._e(),t.moreDialogTemp?a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"item"},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"24px",item:""}},[a("v-icon",{staticClass:"material-icons-outlined"},[t._v("cloud")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(t.$t("source."+t.moreDialogTemp.source)))]),a("div",{staticClass:"t-ellipsis"},[t._v(t._s(t.$t("songAction_source")))])])],1)]):t._e()],1)]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(e){t.moreDialogShow=!1}}},[t._v(t._s(t.$t("back")))])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"400"},model:{value:t.playlistDialog,callback:function(e){t.playlistDialog=e},expression:"playlistDialog"}},[a("v-card",{attrs:{id:"playlist-dialog"}},[a("v-toolbar",{attrs:{flat:""}},[a("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("songAction_add2playlist")))]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:t.openCreatePlaylistDialog}},[a("v-icon",{staticClass:"material-icons-outlined"},[t._v("add")])],1)],1),t.playlistDialogLoading?a("v-card-text",{staticStyle:{height:"300px"}},[a("poka-loader")],1):a("v-card-text",{staticStyle:{height:"300px"}},[t.playlists.length>0?a("v-list",[a("v-list-item-group",{attrs:{multiple:""},model:{value:t.existsPlaylists,callback:function(e){t.existsPlaylists=e},expression:"existsPlaylists"}},[t._l(t.playlists,(function(e,s){return[a("v-list-item",{key:"item-"+s,attrs:{value:e,title:e.name},on:{click:function(a){return t.toggleSongOfPlaylist(e)}}},[a("v-list-item-action",[a("v-checkbox",{attrs:{color:"primary","input-value":t.existsPlaylists.includes(e._id)}})],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"t-ellipsis",domProps:{textContent:t._s(e.name)}})],1)],1)]}))],2)],1):a("p",{staticStyle:{"user-select":"none",margin:"100px 0","text-align":"center"}},[t._v(t._s(t.$t("playlist_page.playlist_empty")))])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(e){t.playlistDialog=!1}}},[t._v(t._s(t.$t("done")))])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"400"},model:{value:t.createPlaylistDialog,callback:function(e){t.createPlaylistDialog=e},expression:"createPlaylistDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("playlist_page.add_title")))]),a("v-card-text",[a("v-text-field",{attrs:{label:t.$t("playlist_page.title_input"),outlined:""},model:{value:t.createPlaylistName,callback:function(e){t.createPlaylistName=e},expression:"createPlaylistName"}})],1),a("v-card-actions",[a("v-btn",{attrs:{text:""},on:{click:function(e){t.createPlaylistDialog=!1}}},[t._v(t._s(t.$t("back")))]),a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:t.createPlaylist}},[t._v(t._s(t.$t("done")))])],1)],1)],1)],1)},zi=[],Fi={name:"poka-parse-songs",props:{data:{type:Array,required:!0},nowPlaying:{type:Boolean,default:!1},activeIndex:Number},data:()=>({server:_setting("server"),defaultCover:_setting("headerBgSource"),isInSongList:[],playlistDialog:!1,playlistDialogLoading:!1,createPlaylistDialog:!1,createPlaylistName:"",moreDialogShow:!1,moreDialogTemp:null,playlists:[],existsPlaylists:[]}),methods:{async openPlaylistDialog(){this.playlistDialog=!0,this.playlistDialogLoading=!0,await this.updatePlaylistData(),this.playlistDialogLoading=!1},playSong(t){_player.list.switch(t),_player.play()},async toggleSongOfPlaylist(t){let e=this.$deepCopy(this.moreDialogTemp);e.originalURL&&(e.url=e.originalURL),e.originalCover&&(e.cover=e.originalCover),delete e.originalURL,delete e.uuid,delete e.originalCover,await this.axios.post(this.server+"/pokaapi/playlist/song",{playlistId:t._id,song:e}),await this.updatePlaylistData()},openCreatePlaylistDialog(){this.createPlaylistDialog=!0,this.createPlaylistName=""},async createPlaylist(){await this.axios.post(this.server+"/pokaapi/playlist/create",{name:this.createPlaylistName}),this.createPlaylistDialog=!1,await this.updatePlaylistData()},async updatePlaylistData(){let t=(await this.axios.post(this.server+"/pokaapi/playlist/song/exist",this.moreDialogTemp)).data;this.playlists=t.playlists,this.existsPlaylists=t.existsPlaylists.map(t=>t._id)},moreDialog(t){this.moreDialogTemp=t,this.moreDialogShow=!0},moreDialog_goto_album(){let t=this.moreDialogTemp;t&&t.albumId&&(this.moreDialogShow=!1,this.$nextTick(()=>{this.$router.push(`/album/songs/${encodeURIComponent(t.source)}/${encodeURIComponent(t.albumId)}`)}))},moreDialog_goto_artist(){let t=this.moreDialogTemp;t&&t.artistId&&(this.moreDialogShow=!1,this.$nextTick(()=>{this.$router.push(`/artist/${encodeURIComponent(t.source)}/${encodeURIComponent(t.artistId)}`)}))}}},ji=Fi,Hi=a("ac7c"),Qi=Object(g["a"])(ji,Bi,zi,!1,null,null,null),qi=Qi.exports;v()(Qi,{VAvatar:Aa["a"],VBtn:V["a"],VCard:de["a"],VCardActions:pe["a"],VCardText:pe["b"],VCardTitle:pe["c"],VCheckbox:Hi["a"],VDialog:ue["a"],VDivider:D["a"],VIcon:U["a"],VImg:Ga["a"],VList:T["a"],VListItem:A["a"],VListItemAction:I["a"],VListItemContent:L["a"],VListItemGroup:N["a"],VListItemTitle:L["c"],VSpacer:M["a"],VTextField:ve["a"],VToolbar:he["a"]}),ea()(Qi,{Ripple:aa["a"]});var Gi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["card"==t.artistView?a("poka-cards",t._l(t.data,(function(e){var s=e.name,i=e.cover,r=e.id,n=e.source;return a("poka-card",{key:r,attrs:{to:"/artist/"+encodeURIComponent(n)+"/"+encodeURIComponent(r||"unknown"),"poka-bg":i||!1,"poka-title":s||"未知","poka-subtitle":t.$t("source."+n)}})})),1):t._e(),"list"==t.artistView?a("div",{staticClass:"poka list"},t._l(t.data,(function(e){var s=e.name,i=e.cover,r=e.id,n=e.source;return a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:r,staticClass:"item",staticStyle:{"user-select":"none"},on:{click:function(e){t.$router.push("/artist/"+encodeURIComponent(n)+"/"+encodeURIComponent(r||"unknown"))}}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"28px",item:""}},[a("v-img",{attrs:{src:t.coverPaser(i),alt:"cover"}})],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v("\n\t\t\t\t\t\t"+t._s(s||"未知")+"\n\t\t\t\t\t\t"),a("span",{staticStyle:{"font-size":".7em",opacity:".7","font-weight":"normal"}},[t._v(t._s(n))])])])],1)])})),0):t._e()],1)},Yi=[],Ji={name:"poka-parse-artists",props:["data"],data:()=>({server:_setting("server"),artistView:_setting("artistView")}),methods:{coverPaser(t){return t.startsWith("http")?t:t?_setting("server")+t:_setting("headerBgSource")}}},Wi=Ji,Ki=Object(g["a"])(Wi,Gi,Yi,!1,null,null,null),Xi=Ki.exports;v()(Ki,{VAvatar:Aa["a"],VImg:Ga["a"]}),ea()(Ki,{Ripple:aa["a"]});var Zi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("poka-cards",t._l(t.data,(function(e){var s=e.name,i=e.artist,r=e.cover,n=e.id,o=e.source;return a("poka-card",{key:n,attrs:{to:"/album/songs/"+encodeURIComponent(o)+"/"+encodeURIComponent(n||"unknown"),"poka-bg":r||!1,"poka-title":s,"poka-subtitle":i,source:t.$t("source."+o)}})})),1)},tr=[],er={name:"poka-parse-albums",props:["data"],data:()=>({server:_setting("server")})},ar=er,sr=Object(g["a"])(ar,Zi,tr,!1,null,null,null),ir=sr.exports,rr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["card"==t.composerView?a("poka-cards",t._l(t.data,(function(e){var s=e.name,i=e.cover,r=e.id,n=e.source;return a("poka-card",{key:r,attrs:{to:"/composer/"+encodeURIComponent(n)+"/"+encodeURIComponent(r||"unknown"),"poka-bg":i||!1,"poka-title":s||"未知","poka-subtitle":t.$t("source."+n)}})})),1):t._e(),"list"==t.composerView?a("div",{staticClass:"poka list"},t._l(t.data,(function(e){var s=e.name,i=e.cover,r=e.id,n=e.source;return a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:r,staticClass:"item",staticStyle:{"user-select":"none"},on:{click:function(e){t.$router.push("/composer/"+encodeURIComponent(n)+"/"+encodeURIComponent(r||"unknown"))}}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"28px",item:""}},[a("v-img",{attrs:{src:t.coverPaser(i),alt:"cover"}})],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v("\n\t\t\t\t\t\t"+t._s(s||"未知")+"\n\t\t\t\t\t\t"),a("span",{staticStyle:{"font-size":".7em",opacity:".7","font-weight":"normal"}},[t._v(t._s(n))])])])],1)])})),0):t._e()],1)},nr=[],or={name:"poka-parse-composers",props:["data"],data:()=>({server:_setting("server"),composerView:_setting("composerView")}),methods:{coverPaser(t){return t.startsWith("http")?t:t?_setting("server")+t:_setting("headerBgSource")}}},lr=or,cr=Object(g["a"])(lr,rr,nr,!1,null,null,null),dr=cr.exports;v()(cr,{VAvatar:Aa["a"],VImg:Ga["a"]}),ea()(cr,{Ripple:aa["a"]});var pr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"poka two list"},t._l(t.data,(function(e){var s=e.name,i=(e.image,e.id),r=e.source;return a("router-link",{directives:[{name:"ripple",rawName:"v-ripple"}],key:i,staticClass:"item",attrs:{to:"/folder/"+encodeURIComponent(r)+"/"+encodeURIComponent(i||"unknown")}},[a("div",{staticClass:"content"},[a("v-avatar",{attrs:{size:"42px",item:""}},[a("v-icon",[t._v("folder")])],1),a("div",{staticClass:"header"},[a("div",{staticClass:"head t-ellipsis"},[t._v(t._s(s))]),a("div",{staticClass:"t-ellipsis"},[t._v(t._s(t.$t("source."+r)))])])],1)])})),1)},ur=[],mr={name:"poka-parse-folders",props:["data"],data:()=>({server:_setting("server")})},gr=mr,_r=(a("64a3"),Object(g["a"])(gr,pr,ur,!1,null,"248b7fc9",null)),vr=_r.exports;v()(_r,{VAvatar:Aa["a"],VIcon:U["a"]}),ea()(_r,{Ripple:aa["a"]});var hr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("poka-cards",t._l(t.data,(function(t,e){return a("poka-parse-home-dialog",{key:e,attrs:{data:t}})})),1)},yr=[],fr={name:"poka-parse-home",props:["data"],data:()=>({dialog:!1})},wr=fr,kr=Object(g["a"])(wr,hr,yr,!1,null,null,null),br=kr.exports,xr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{fullscreen:"",scrollable:"",transition:"dialog-bottom-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("poka-card",t._g({attrs:{"poka-bg":!1,"poka-title":t.$t(t.data.title)||"未知","poka-subtitle":t.$t("source."+t.data.source),"poka-icon":t.data.icon},nativeOn:{click:function(e){t.dialog=!0}}},s))]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",{staticClass:"mx-auto"},[a("v-toolbar",{attrs:{dark:"",color:"primary",flat:""},scopedSlots:t._u([{key:"extension",fn:function(){return[a("v-tabs",{attrs:{"background-color":"primary",color:"white","slider-color":"yellow"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(Object.keys(t.data).filter((function(e){return"title"!=e&&"source"!=e&&"icon"!=e&&t.data[e].length})),(function(e){return a("v-tab",{key:e},[t._v(t._s(t.$t(e.substring(0,e.length-1))))])})),1)]},proxy:!0}])},[a("v-toolbar-title",[t._v(t._s(t.$t(t.data.title)))]),a("v-chip",{staticClass:"ma-2",attrs:{color:"white",outlined:"",pill:""}},[t._v(t._s(t.$t("source."+t.data.source)))]),a("v-spacer"),a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.dialog=!1}}},[a("v-icon",[t._v("mdi-close")])],1)],1),a("v-card-text",{staticStyle:{height:"calc(100% - 64px)"}},[a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(Object.keys(t.data).filter((function(e){return"title"!=e&&"source"!=e&&"icon"!=e&&t.data[e].length})),(function(e){return a("v-tab-item",{key:e},["songs"==e?a("poka-parse-songs",{attrs:{data:t.data[e]}}):t._e(),"albums"==e?a("poka-parse-albums",{attrs:{data:t.data[e]}}):t._e(),"playlists"==e?a("poka-parse-playlists",{attrs:{data:t.data[e]}}):t._e(),"folders"==e?a("poka-parse-folders",{attrs:{data:t.data[e]}}):t._e(),"composers"==e?a("poka-parse-composers",{attrs:{data:t.data[e]}}):t._e(),"artists"==e?a("poka-parse-artists",{attrs:{data:t.data[e]}}):t._e()],1)})),1)],1)],1)],1)},Cr=[],Sr={name:"poka-parse-home-dialog",props:["data"],data:()=>({dialog:!1,tab:null})},$r=Sr,Pr=a("cc20"),Vr=Object(g["a"])($r,xr,Cr,!1,null,null,null),Dr=Vr.exports;v()(Vr,{VBtn:V["a"],VCard:de["a"],VCardText:pe["b"],VChip:Pr["a"],VDialog:ue["a"],VIcon:U["a"],VSpacer:M["a"],VTab:va["a"],VTabItem:ha["a"],VTabs:ya["a"],VTabsItems:fa["a"],VToolbar:he["a"],VToolbarTitle:B["a"]});var Ur=a("f309"),Tr=a("aa47"),Ar=a.n(Tr);c["a"].use(Ur["a"]);var Ir=new Ur["a"]({theme:{options:{customProperties:!0},themes:{light:{primary:"#5c95c4",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},dark:{primary:"#5c95c4"}}},lang:{locales:{zhHant:Ar.a},current:"zh-Hant"}});o.a.defaults.withCredentials=!0,o.a.defaults.headers.common["Access-Control-Allow-Origin"]="*",c["a"].use(Ts.a,o.a),Object.values(s).forEach(t=>c["a"].component(t.name,t));const Lr=window.matchMedia("(prefers-color-scheme: dark)");function Nr(t=!1){Ir.framework.theme.isDark=t,document.getElementsByTagName("meta")["theme-color"].content=t?"rgb(47, 43, 62)":"rgb(245, 245, 245)"}Nr(Lr.matches),Lr.addListener(t=>{const e=t.matches;Nr(e)}),c["a"].config.productionTip=!1,new c["a"]({el:"#app",router:ws,i18n:$s,store:Vs,components:{App:w},template:"<App/>",vuetify:Ir,render:t=>t(w)})},"5ae6":function(t,e,a){},"5c64":function(t,e,a){"use strict";var s=a("6ee5"),i=a.n(s);i.a},6088:function(t,e,a){},6176:function(t,e,a){},"64a3":function(t,e,a){"use strict";var s=a("3500"),i=a.n(s);i.a},"658e":function(t,e,a){"use strict";a.r(e),e["default"]={title:"English (US)",loading:"Loading...",header_welcome:"Welcome",checkUpdate_poka:"Update Available: {version}",checkUpdate_button:"Update",pingServer_title:"Hint",pingServer_content:"Server restarting success!",pingServer_reconnect:"Reconnect",copy:{success:"Copied to clipboard successfully!",failed:"Unable to write to clipboard."},home:"Home",nowplaying:"Now Playing",lrc:"Lyrics",search:"Search",album:"Albums",folder:"Folders",artist:"Artists",song:"Songs",composer:"Composers",playlist:"Playlists",settings:"Settings",ok:"OK",cancel:"Cancel",reset:"Reset",back:"Back",login:"Login",login_page:{server:"Server",username:"Username",password:"Password",features:{opensource:{title:"Open Source",description:"All source code is on GitHub"},module:{title:"Modularization",description:"Easy to port any services"},streaming:{title:"Stream anywhere",description:"Listen to music anywhere"},fastinstall:{title:"Quick install",description:"Deploy using Docker in a snap"}},tips:{firstLogin:{title:"First time?",description:'The default user name and password are both "poka". You can change them in the settings'}},session:{_:"Reset session",description:"If you unable to log in, there may be an error in the session. ",description2:"You can enter the administrator account below to reset, but please note that this action will reset the login status of all users.",success:"Reset successfully, please try to log in",fail:"Reset failed, error reason:"}},nothingFound:"Nothing found",requestError:"An error occurred while requesting, please try again",home_recentAlbums:"Recent added albums",home_pins:"Pins",home_netease:"Netease",home_hqPlaylist_netease:"HQ Playlist",home_topPlaylist_netease:"Top Playlist",home_dailyRecommend_netease:"Daily Recommend",app_waitForPlay:"No queued songs. ",app_waitForPlay_description:"You can add more songs, or press below to shuffle.",now_cleanSongs:"Clear all songs?",now_cleanSongs_description:"This will remove every song in the playlist.",playlist_random:"Shuffle",playlist_page:{del:"DELETE",del_title:"Delete Playlist",delconfirm:'Are you sure what to delete "{title}"?',edit_title:"Edit Playlist",title_input:"Playlist name",cover_input:"Playlist cover",edit_empty:"Field cannot be empty",playlist_empty:'You haven\'t created any playlists, click "+" in the upper right corner to add'},lrc_search:"Search lyrics",lrc_noKeyword:"Enter keyword to search",lrc_enter2search:"Press Enter key to start searching",lrc_notLoad:"Don't load lyrics",lrc_notLoad_description:"This will remove lyrics of the song now playing.",lrc_noLyrics:"No lyrics",lrc_saved:"lyric saved.",songAction_title:"Actions",songAction_name:"Name",songAction_artist:"Artists",songAction_album:"Album",songAction_source:"Source",songAction_like:"Like",songAction_like_success:'Liked "{name}"',songAction_like_failed:'An error occurred while liking "{name}".',songAction_unlike:"Unlike",songAction_unlike_success:'Unliked "{name}"',songAction_unlike_failed:'An error occurred while unliking "{name}".',songAction_rating:"Rate",songAction_rating0:"Clear rating",songAction_rating4song:"Successfully rated for {name}",songAction_rating_success:'Rated {star} stars for "{name}".',songAction_rating_failed:"Rating {name} for {star} stars failed.",songAction_rating0_success:"Clear rating for {name} success!",songAction_rating0_failed:"Clear rating for {name} failed.",songAction_add2playlist:"Add to playlist",songAction_add2playlist_songNotExist:"{source}",songAction_add2playlist_songExist:"{source} / Song already added, click to delete",songAction_add2playlist_failed:"An error occured while processing {name}",songAction_add2playlist_add_success:"Added {name} to {playlist}",songAction_add2playlist_remove_success:"Removed {name} from {playlist}",album_total:"{songs} songs",albumsOfSameArtist:"Albums of the same artist",addSong_total:"{total} songs added",addSong_name:"Added {name}",moduleShowName_Netease:"Netease",moduleShowName_DSM:"DSM",sessionExpired:"Session expired, please log in again",add2nowPlaying:"Add this list to queue",pin_failed:"Failed to pin",unpin_failed:"Failed to unpin",settings_dark:"Night Mode",settings_network:"Network",settings_network_description:"Music quality",settings_network_soundQuality:"Music quality",settings_network_soundQuality_Low:"Low",settings_network_soundQuality_Med:"Medium",settings_network_soundQuality_High:"High",settings_network_soundQuality_Ori:"Original",settings_network_soundQuality_Low_description:"Only use when the internet is slow",settings_network_soundQuality_Med_description:"Able to stream smoothly under 3G network",settings_network_soundQuality_High_description:"Able to stream smoothly under 4G/LTE network",settings_network_soundQuality_Ori_description:"Uncompressed audio, only use when the internet is fast",settings_lang:"Language",settings_lang_description:"Set your PokaPlayer language",settings_systemAndUpdate:"System & update",settings_systemAndUpdate_description:"Update PokaPlayer, restart",settings_about:"About",settings_about_description:"Version, feedback",settings_about_contributions:"Contributions",settings_about_errorEeport:"Send feedback",settings_account:"Account",settings_logout:"Logout",settings_system:"System",settings_update:"Software update",settings_update_checking4updates:"Checking for updates...",settings_update_latestVersion:"Your PokaPlayer is up to date",settings_update_update2:"Update to {version}",settings_update_canUpdate2:"{version} is available",settings_update_go2UpdatePage:"Go to update page",settings_update_srvRestart:"Restart server.",settings_update_reconnect:"Reconnect",settings_update_initializing:"Initializing...",settings_update_updating:"Updating...",settings_update_git_fetch:"Initialize complete.",settings_update_git_reset:"Update download complete.",settings_update_git_api:"API update complete.",settings_updateDialog_note:"Notice: If Docker auto-restart is disabled, you must start PokaPlayer manually.",settings_updateDialog_note_dev:"If you update on developing machine, <mark>it may cause Git to crash</mark>",settings_updateDialog_title:"{version} Release note",settings_restart:"Restart",settings_restarting:"Restarting",settings_restart_completed:"Restart completed.",settings_restartDialog_title:"Are you sure to restart?",settingIndex:{normalItems:"General",adminItems:"Server management"},settingInterface:{_:"Interface",customize:{_:"Customizations",bg:{_:"Custom background",description:"Change background image",custom_link:"Custom link"},bg_cover:{_:"Background cover",description:"Change background cover size or hide it",options:{full:"Full cover",half:"Half cover",none:"Hide background"}},theme:"Theme",theme_color:{_:"Theme color",description:"Change the theme color"},lyric:{_:"Lyric theme",description:"Change the theme of lyric page"},layout:{_:"Layout",list:"list",card:"card",artist:"Artist page layout",composer:"Composer page layout"}},lang:"Language"},settingUser:{title:"User",description:"View your profile, change your password",name:"Name",username:"Username",role:"Role",password:"Password",passwordDescription:"Tap here to change your password",changeName:{title:"Change name",placeholder:"Enter a new name",result:{success:"Name successfully changed to {name}",error:"Name change failed"}},changeUsername:{title:"Change username",placeholder:"Enter a new username",result:{success:"Username successfully changed to {name}, please login with a new username next time",error:"Username change failed"}},changePassword:{title:"Change the password",oldPassword:"old password",newPassword:"new password",confirmPassword:"confirm password",confirmPasswordHelperText:"Enter your new password again",done:"change",result:{inconsistent:"Two passwords are inconsistent",same:"Password cannot be the same as the old password",success:"Password changed successfully",error:"Password change failed"}}},settingUserManagement:{title:"User management",role:{user:"user",admin:"admin"},dialog:{create:"Create User",createBtn:"Create",userCreated:"User created.",userCreateFailed:"User create failed.",userCreateUsernameRepeat:"Username is already taken.",edit:"Edit User",changePassword:"Change Password",changePasswordSuccess:"Password changed.",changePasswordFailed:"An error occurred when changing the password.",enterNewPassword:"Please enter the new password",deleteUser:"Delete this user",deleteUserFailed:"An error occurred when deleting the user"},field:{name:"Name",username:"Username",role:"Role",password:"Password"}},settingPravicy:{title:"Pravicy",description:"Data record setting"},settingPins:{title:"Pins management",deleteConfirm:"Are you sure want to unpin?"},source:{DSM:"DSM",poka:"PokaPlayer",Netease2:"Netease"}}},"6ee5":function(t,e,a){},"6f9c":function(t,e,a){"use strict";var s=a("350e"),i=a.n(s);i.a},7789:function(t,e,a){"use strict";a.r(e),e["default"]={title:"中文（台灣）",loading:"載入中...",header_welcome:"歡迎使用",checkUpdate_poka:"有新版本可供更新：{version}",checkUpdate_button:"更新",pingServer_title:"提示",pingServer_content:"伺服器重新啟動完畢！",pingServer_reconnect:"重新連接",copy:{success:"已複製至剪貼簿",failed:"無法複製至剪貼簿"},home:"首頁",nowplaying:"現正播放",lrc:"歌詞",search:"搜尋",album:"專輯",folder:"資料夾",artist:"演出者",song:"歌曲",composer:"作曲者",playlist:"播放清單",settings:"設定",ok:"好",cancel:"取消",reset:"重置",done:"完成",back:"返回",login:"登入",login_page:{server:"伺服器",username:"使用者名稱",password:"密碼",features:{opensource:{title:"開放原始碼",description:"所有的程式碼都在 GitHub"},module:{title:"模組化",description:"接入任何服務皆不是難事"},streaming:{title:"隨時隨地串流",description:"連上網便能聽歌"},fastinstall:{title:"快速安裝",description:"可使用 Docker 快速部署"}},tips:{firstLogin:{title:"首次登入？",description:"預設使用者名稱與密碼皆為「poka」，登入後可至設定更改。"}},session:{_:"重置 session",description:"若您持續無法登入，可能是 session 發生錯誤。",description2:"您可以於下方輸入管理員帳號進行重置，但請注意，此動作將重置所有使用者的登入狀態。",success:"重置成功，請嘗試登入",fail:"重置失敗，錯誤原因："}},nothingFound:"找不到",requestError:"請求失敗，請再試一次",home_recentAlbums:"最近加入的專輯",home_pins:"釘選",home_netease:"網易雲音樂",home_hqPlaylist_netease:"精品清單",home_topPlaylist_netease:"熱門清單",home_dailyRecommend_netease:"每日推薦",app_waitForPlay:"佇列中未有歌曲",app_waitForPlay_description:"加入一些歌曲，或是點選底下的隨機播放",now_cleanSongs:"確定清除所有歌曲？",now_cleanSongs_description:"這將會清除列表中所有歌曲。",playlist_random:"隨機播放",playlist_page:{del:"刪除",del_title:"刪除播放清單",delconfirm:"確定要刪除「{title}」嗎？",add_title:"新增播放清單",edit_title:"編輯播放清單",title_input:"播放清單標題",cover_input:"播放清單封面",edit_empty:"欄位不得為空",playlist_empty:"您尚未建立任何播放清單，點選右上角的「＋」來新增"},lrc_search:"搜尋歌詞",lrc_noKeyword:"尚未輸入關鍵字",lrc_enter2search:"輸入完後按下 Enter 開始搜尋歌詞",lrc_notLoad:"不載入歌詞",lrc_notLoad_description:"點選清除目前的歌詞",lrc_noLyrics:"無歌詞",lrc_saved:"歌詞已儲存",songAction_title:"歌曲操作",songAction_name:"歌曲名稱",songAction_artist:"演出者",songAction_album:"專輯",songAction_source:"來源",songAction_like:"收藏",songAction_like_success:"已收藏「{name}」",songAction_like_failed:"收藏或取消收藏「{name}」時發生了錯誤",songAction_unlike:"取消收藏",songAction_unlike_success:"已取消收藏「{name}」",songAction_unlike_failed:"取消收藏「{name}」時發生了錯誤",songAction_rating:"評等",songAction_rating0:"清除評等",songAction_rating4song:"為「{name}」評等",songAction_rating_success:"為「{name}」評等 {star} 星成功！",songAction_rating_failed:"為「{name}」評等 {star} 星失敗。",songAction_rating0_success:"為「{name}」清除評等成功！",songAction_rating0_failed:"為「{name}」清除評等失敗。",songAction_add2playlist:"加入到播放清單",songAction_add2playlist_songNotExist:"{source}",songAction_add2playlist_songExist:"{source} / 該歌曲已存在，點選來刪除",songAction_add2playlist_failed:"處理 {name} 時發生了錯誤",songAction_add2playlist_add_success:"已將 {name} 加入到 {playlist}",songAction_add2playlist_remove_success:"已將 {name} 從 {playlist} 刪除",album_total:"{songs} 首歌曲",albumsOfSameArtist:"來自相同演出者的其他專輯",addSong_total:"已添加 {total} 首歌",addSong_name:"已添加 {name}",moduleShowName_Netease:"網易雲音樂",moduleShowName_DSM:"DSM",sessionExpired:"Session 過期，請重新登入",add2nowPlaying:"將此頁歌曲加入到現正播放",pin_failed:"釘選失敗",unpin_failed:"取消釘選失敗",settings_dark:"夜間模式",settings_network:"網路",settings_network_description:"音質",settings_network_soundQuality:"音質",settings_network_soundQuality_Low:"低音質",settings_network_soundQuality_Med:"中等音質",settings_network_soundQuality_High:"高音質(建議)",settings_network_soundQuality_Ori:"原始音質",settings_network_soundQuality_Low_description:"128K，跟 YouTube 差不多的爛音質，在網路夭壽慢的情況下請選擇此選項",settings_network_soundQuality_Med_description:"音質只比 YouTube 好那麼一點點，可在 3G 網路下流暢的串流",settings_network_soundQuality_High_description:"音質較原始音質略差，可在 4G 網路下流暢的串流",settings_network_soundQuality_Ori_description:"在網路狀況許可下，可選擇此選項聆聽高音質音樂",settings_lang:"語言",settings_lang_description:"設定您的 PokaPlayer 語言",settings_systemAndUpdate:"系統和更新",settings_systemAndUpdate_description:"更新 PokaPlayer、重新啟動",settings_about:"關於",settings_about_description:"PokaPlayer 相關訊息、錯誤回報等",settings_about_contributions:"貢獻者",settings_about_errorEeport:"錯誤回報",settings_account:"帳號",settings_logout:"登出",settings_system:"系統",settings_update:"軟體更新",settings_update_checking4updates:"正在檢查更新...",settings_update_latestVersion:"您的 PokaPlayer 已是最新版本",settings_update_update2:"更新至 {version}",settings_update_canUpdate2:"可更新至 {version}",settings_update_go2UpdatePage:"前往更新頁面",settings_update_srvRestart:"伺服器重新啟動",settings_update_reconnect:"重新連接",settings_update_initializing:"正在初始化...",settings_update_updating:"正在更新...",settings_update_git_fetch:"初始化完成",settings_update_git_reset:"更新檔下載完成",settings_update_git_api:"API 更新完成",settings_updateDialog_note:"注意：若您未開啟 Docker 自動重啟功能，您必須手動開啟 PokaPlayer",settings_updateDialog_note_dev:"若在開發機器上進行更新，<mark>可能導致 Git 爆炸</mark>",settings_updateDialog_title:"{version} 更新日誌",settings_restart:"重新啟動",settings_restarting:"正在重新啟動",settings_restart_completed:"重新啟動完成！",settings_restartDialog_title:"確定要重新啟動嗎？",settingIndex:{normalItems:"一般設定項目",adminItems:"伺服器管理"},settingInterface:{_:"介面",customize:{_:"個人化",bg:{_:"自訂背景",description:"更改背景圖片",custom_link:"自訂連結"},bg_cover:{_:"背景覆蓋",description:"更改背景覆蓋樣式或將其隱藏",options:{full:"全覆蓋",half:"半覆蓋",none:"無背景"}},theme:"主題",theme_color:{_:"主色",description:"設定 PokaPlayer 的主題色彩"},lyric:{_:"歌詞頁面主題",description:"設定歌詞頁面的主題"},layout:{_:"佈局",list:"清單",card:"卡片",artist:"演出者頁面佈局",composer:"作曲者頁面佈局"}},lang:"語言"},settingUser:{title:"使用者",description:"檢視您的資料、修改密碼",name:"名稱",username:"使用者名稱",role:"權限",password:"密碼",passwordDescription:"輕觸此處來更改密碼",changeName:{title:"更改名稱",placeholder:"輸入新的名稱",result:{success:"名稱成功更改為 {name}",error:"名稱更改失敗"}},changeUsername:{title:"更改使用者名稱",placeholder:"輸入新的使用者名稱",result:{success:"使用者名稱成功更改為 {name}，下次請用新的使用者名稱來登入",error:"使用者名稱更改失敗"}},changePassword:{title:"更改密碼",oldPassword:"舊密碼",newPassword:"新密碼",confirmPassword:"確認密碼",confirmPasswordHelperText:"再輸入一次您的新密碼",done:"更改密碼",result:{inconsistent:"兩次密碼不一致",same:"密碼不可與舊密碼相同",success:"密碼更改成功",error:"密碼更改失敗"}}},settingUserManagement:{title:"使用者管理",role:{user:"普通使用者",admin:"管理員"},dialog:{create:"建立使用者",createBtn:"建立",userCreated:"使用者建立成功",userCreateFailed:"建立使用者時發生錯誤",userCreateUsernameRepeat:"使用者名稱已被使用",edit:"編輯使用者",changePassword:"更改密碼",changePasswordSuccess:"密碼已變更",changePasswordFailed:"更改密碼時發生了錯誤",enterNewPassword:"請輸入新密碼",deleteUser:"刪除使用者",deleteUserFailed:"刪除使用者時發生了錯誤"},field:{name:"名稱",username:"使用者名稱",role:"權限",password:"密碼"}},settingPravicy:{title:"隱私",description:"資料紀錄設定"},settingPins:{title:"釘選管理",deleteConfirm:"您確定要取消釘選此項目嗎？"},source:{DSM:"DSM",poka:"PokaPlayer",Netease2:"網易雲音樂"}}},"865a":function(t,e,a){"use strict";var s=a("103b"),i=a.n(s);i.a},a254:function(t,e,a){},a482:function(t,e,a){},a5da:function(t,e,a){"use strict";var s=a("d7b7"),i=a.n(s);i.a},ac6f:function(t,e,a){"use strict";var s=a("bf91"),i=a.n(s);i.a},b2c8:function(t,e,a){"use strict";var s=a("dc5a"),i=a.n(s);i.a},bea5:function(t,e,a){"use strict";var s=a("0e06"),i=a.n(s);i.a},bf91:function(t,e,a){},cf25:function(t,e,a){"use strict";var s=a("56cc"),i=a.n(s);i.a},cf61:function(t,e,a){"use strict";a.r(e),e["default"]={title:"中文（中国）",loading:"载入中...",header_welcome:"欢迎使用",checkUpdate_poka:"有新版本可供更新：{version}",checkUpdate_button:"更新",pingServer_title:"提示",pingServer_content:"服务器重新启动完毕！",pingServer_reconnect:"重新连接",copy:{success:"已复制至剪贴板",failed:"无法复制至剪贴板"},home:"首页",nowplaying:"现在播放",lrc:"歌词",search:"搜索",album:"专辑",folder:"资料夹",artist:"演出者",song:"歌曲",composer:"作曲者",playlist:"播放清单",settings:"设置",ok:"好",cancel:"取消",reset:"重置",done:"完成",back:"返回",login:"登录",login_page:{server:"服务器",username:"用户名称",password:"密码",features:{opensource:{title:"开放源代码",description:"所有的源代码都在 GitHub"},module:{title:"模组化",description:"接入任何服务皆不是难事"},streaming:{title:"随时随地串流",description:"连上网便能听歌"},fastinstall:{title:"快速安装",description:"可使用 Docker 快速部署"}},tips:{firstLogin:{title:"首次登录？",description:"默认用户名称与密码皆为「poka」，登录后可到设置更改。"}},session:{_:"重置 session",description:"若您持续无法登录，可能是 session 发生错误。",description2:"您可以于下方输入管理员账号进行重置，但请注意，此动作将重置所有用户的登录状态。",success:"重置成功，请尝试登录",fail:"重置失败，错误原因："}},nothingFound:"找不到",requestError:"请求失败，请再试一次",home_recentAlbums:"最近加入的专辑",home_pins:"钉选",home_netease:"网易云音乐",home_hqPlaylist_netease:"精品清单",home_topPlaylist_netease:"热门清单",home_dailyRecommend_netease:"每日推荐",app_waitForPlay:"队列中没有歌曲",app_waitForPlay_description:"加入一些歌曲，或是点击底下的随机播放",now_cleanSongs:"确定清除所有歌曲？",now_cleanSongs_description:"这将会清除列表中所有歌曲。",playlist_random:"随机播放",playlist_page:{del:"删除",del_title:"删除播放清单",delconfirm:"确定要删除「{title}」吗？",add_title:"新增播放清单",edit_title:"编辑播放清单",title_input:"播放清单标题",cover_input:"播放清单封面",edit_empty:"字段不得为空",playlist_empty:"您尚未建立任何播放清单，点选右上角的「＋」来新增"},lrc_search:"搜索歌词",lrc_noKeyword:"尚未输入关键词",lrc_enter2search:"输入完后按下 Enter 开始搜索歌词",lrc_notLoad:"不载入歌词",lrc_notLoad_description:"点击清除目前的歌词",lrc_noLyrics:"无歌词",lrc_saved:"歌词已储存",songAction_title:"歌曲操作",songAction_name:"歌曲名称",songAction_artist:"演出者",songAction_album:"专辑",songAction_source:"来源",songAction_like:"收藏",songAction_like_success:"已收藏「{name}」",songAction_like_failed:"收藏或取消收藏「{name}」时发生了错误",songAction_unlike:"取消收藏",songAction_unlike_success:"已取消收藏「{name}」",songAction_unlike_failed:"取消收藏「{name}」时发生了错误",songAction_rating:"评分",songAction_rating0:"清除评等",songAction_rating4song:"为「{name}」评分",songAction_rating_success:"为「{name}」评分 {star} 星成功！",songAction_rating_failed:"为「{name}」评分 {star} 星失败。",songAction_rating0_success:"为「{name}」清除评分成功！",songAction_rating0_failed:"为「{name}」清除评分失败。",songAction_add2playlist:"加入到播放清单",songAction_add2playlist_songNotExist:"{source}",songAction_add2playlist_songExist:"{source} / 该歌曲已存在，点击来删除",songAction_add2playlist_failed:"处理 {name} 时发生了错误",songAction_add2playlist_add_success:"已将 {name} 加入到 {playlist}",songAction_add2playlist_remove_success:"已将 {name} 从 {playlist} 删除",album_total:"{songs} 首歌曲",albumsOfSameArtist:"来自相同演出者的其他专辑",addSong_total:"已添加 {total} 首歌",addSong_name:"已添加 {name}",moduleShowName_Netease:"网易云音乐",moduleShowName_DSM:"DSM",sessionExpired:"Session 过期，请重新登录",add2nowPlaying:"将此页歌曲加入到现在播放",pin_failed:"钉选失败",unpin_failed:"取消钉选失败",settings_dark:"夜间模式",settings_network:"网络",settings_network_description:"音质",settings_network_soundQuality:"音质",settings_network_soundQuality_Low:"低音质",settings_network_soundQuality_Med:"中等音质",settings_network_soundQuality_High:"高音质(建议)",settings_network_soundQuality_Ori:"原始音质",settings_network_soundQuality_Low_description:"128K，跟 YouTube 差不多的烂音质，在网络夭寿慢的情况下请选择此选项",settings_network_soundQuality_Med_description:"音质只比 YouTube 好那么一点点，可在 3G 网络下流畅的串流",settings_network_soundQuality_High_description:"音质较原始音质略差，可在 4G 网络下流畅的串流",settings_network_soundQuality_Ori_description:"在网络状况许可下，可选择此选项聆听高音质音乐",settings_lang:"语言",settings_lang_description:"设定您的 PokaPlayer 语言",settings_systemAndUpdate:"系统和更新",settings_systemAndUpdate_description:"更新 PokaPlayer、重新启动",settings_about:"关于",settings_about_description:"PokaPlayer 相关信息、错误反馈等",settings_about_contributions:"贡献者",settings_about_errorEeport:"错误反馈",settings_account:"账号",settings_logout:"登出",settings_system:"系统",settings_update:"软件更新",settings_update_checking4updates:"正在检查更新...",settings_update_latestVersion:"您的 PokaPlayer 已是最新版本",settings_update_update2:"更新至 {version}",settings_update_canUpdate2:"可更新至 {version}",settings_update_go2UpdatePage:"前往更新页面",settings_update_srvRestart:"服务器重新启动",settings_update_reconnect:"重新连接",settings_update_initializing:"正在初始化...",settings_update_updating:"正在更新...",settings_update_git_fetch:"初始化完成",settings_update_git_reset:"更新档下载完成",settings_update_git_api:"API 更新完成",settings_updateDialog_note:"注意：若您未开启 Docker 自动重启功能，您必须手动开启 PokaPlayer",settings_updateDialog_note_dev:"若在开发机器上进行更新，<mark>可能导致 Git 爆炸</mark>",settings_updateDialog_title:"{version} 更新日志",settings_restart:"重新启动",settings_restarting:"正在重新启动",settings_restart_completed:"重新启动完成！",settings_restartDialog_title:"确定要重新启动吗？",settingIndex:{normalItems:"基础设置",adminItems:"服务器管理"},settingInterface:{_:"界面",customize:{_:"自定义",bg:{_:"自定义背景",description:"更改背景图片",custom_link:"自定义链接"},bg_cover:{_:"背景覆盖",description:"更改背景覆盖样式或将其隐藏",options:{full:"全覆盖",half:"半覆盖",none:"无背景"}},theme:"主题",theme_color:{_:"主色",description:"设定 PokaPlayer 的主题色彩"},lyric:{_:"歌词页面主题",description:"设定歌词页面的主题"},layout:{_:"布局",list:"清单",card:"卡片",artist:"演出者页面布局",composer:"作曲者页面布局"}},lang:"语言"},settingUser:{title:"用户",description:"查看您的资料、修改密码",name:"名称",username:"用户名称",role:"权限",password:"密码",passwordDescription:"轻触此处来更改密码",changeName:{title:"更改名称",placeholder:"输入新的名称",result:{success:"名称成功更改为 {name}",error:"名称更改失败"}},changeUsername:{title:"更改用户名称",placeholder:"输入新的用户名称",result:{success:"用户名称成功更改为 {name}，下次请用新的用户名称来登录",error:"用户名称更改失败"}},changePassword:{title:"更改密码",oldPassword:"旧密码",newPassword:"新密码",confirmPassword:"确认密码",confirmPasswordHelperText:"再输入一次您的新密码",done:"更改密码",result:{inconsistent:"两次密码不一致",same:"密码不可与旧密码相同",success:"密码更改成功",error:"密码更改失败"}}},settingUserManagement:{title:"用户管理",role:{user:"普通用户",admin:"管理员"},dialog:{create:"建立用户",createBtn:"建立",userCreated:"用户建立成功",userCreateFailed:"用户建立失敗",userCreateUsernameRepeat:"用户名称已被使用",edit:"编辑用户",changePassword:"更改密码",changePasswordSuccess:"密码已变更",changePasswordFailed:"更改密码时发生了错误",enterNewPassword:"请输入新密码",deleteUser:"删除用户",deleteUserFailed:"删除用户时发生了错误"},field:{name:"名称",username:"用户名称",role:"权限",password:"密码"}},settingPravicy:{title:"隐私",description:"资料纪录设定"},settingPins:{title:"钉选管理",deleteConfirm:"您确定要取消钉选此项目吗？"},source:{DSM:"DSM",poka:"PokaPlayer",Netease2:"网易云音乐"}}},d4db:function(t,e,a){"use strict";var s=a("e6c5"),i=a.n(s);i.a},d7b7:function(t,e,a){},dc5a:function(t,e,a){},e6c5:function(t,e,a){},e72a:function(t,e,a){"use strict";var s=a("a482"),i=a.n(s);i.a},ef87:function(t,e,a){var s,i,r;!function(a,n){"use strict";i=[],s=n,r="function"===typeof s?s.apply(e,i):s,void 0===r||(t.exports=r)}(0,(function(){"use strict";var t=function(t){this.timestamp_offset=0,this.lyrics_all=void 0,this.meta_info=void 0,this.ID_TAGS=[{name:"artist",id:"ar"},{name:"album",id:"al"},{name:"title",id:"ti"},{name:"author",id:"au"},{name:"length",id:"length"},{name:"by",id:"by"},{name:"offset",id:"offset",handler:this.setTimestampOffset},{name:"createdBy",id:"re"},{name:"createdByVersion",id:"ve"}];for(var e=0;e<this.ID_TAGS.length;e++)this.ID_TAGS[e].re=new RegExp("\\["+this.ID_TAGS[e].id+":(.*)\\]$","g");t&&this.load(t)};return t.prototype={constructor:t,load:function(t){this.lyrics_all=new Array,this.meta_info=new Object,this.timestamp_offset=0;for(var e=String(t).split("\n"),a=0;a<e.length;a++){var s=e[a].replace(/(^\s*)|(\s*$)/g,"");if(s){for(var i=!1,r=0;r<this.ID_TAGS.length;r++){var n=this.ID_TAGS[r].re.exec(s);if(n&&!(n.length<2)){i=!0;var o=n[1].replace(/(^\s*)|(\s*$)/g,"");"function"==typeof this.ID_TAGS[r].handler?this.meta_info[String(this.ID_TAGS[r].name)]=this.ID_TAGS[r].handler.call(this,o):this.meta_info[String(this.ID_TAGS[r].name)]=String(o)}}if(!i){for(var l=Array();;){n=/^(\[\d+:\d+(.\d+)?\])(.*)/g.exec(s);if(!n)break;l.push(n[1]),s=n[n.length-1].replace(/(^\s*)|(\s*$)/g,"")}for(r=0;r<l.length;r++){var c=/^\[(\d{1,2}):(\d|[0-5]\d)(\.(\d+))?\]$/g.exec(l[r]);c&&this.lyrics_all.push({timestamp:60*Number(c[1])+Number(c[2])+(c[4]?Number("0."+c[4]):0),text:s})}}}}return this.lyrics_all.sort((function(t,e){return t.timestamp>e.timestamp?1:-1})),this.lyrics_all.length||(this.lyrics_all=void 0),this.isEmpty(this.meta_info)&&(this.meta_info=void 0),void 0!==this.lyrics_all||void 0!==this.meta_info},getLyrics:function(){return this.lyrics_all},getLyric:function(t){try{return this.lyrics_all[t]}catch(t){return}},getIDTags:function(){return this.meta_info},select:function(t){if(isNaN(t))return-1;var e=Number(t)+this.timestamp_offset,a=0;if(e<this.lyrics_all[0].timestamp)return-1;for(a=0;a<this.lyrics_all.length-1&&!(this.lyrics_all[a].timestamp<=e&&this.lyrics_all[a+1].timestamp>e);a++);return a},setTimestampOffset:function(t){return this.timestamp_offset=isNaN(t)?0:Number(t)/1e3,Number(t)},isEmpty:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}},t}))},f098:function(t,e,a){},fd83:function(t,e,a){}});
//# sourceMappingURL=app.33187968.js.map